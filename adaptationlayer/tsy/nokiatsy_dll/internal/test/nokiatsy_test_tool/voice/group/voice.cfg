//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  
//*


//-----------------------------------------------------
//MonitorSpeakerControl values:
// 0=EMonitorSpeakerControlAlwaysOff
// 1=EMonitorSpeakerControlOnUntilCarrier
// 2=EMonitorSpeakerControlAlwaysOn
// 3=EMonitorSpeakerControlOnExceptDuringDialling
// 4=EMonitorSpeakerControlUnknown

//MonitorSpeakerVolume values:
// 0=EMonitorSpeakerVolumeOff
// 1=EMonitorSpeakerVolumeLow
// 2=EMonitorSpeakerVolumeMedium
// 3=EMonitorSpeakerVolumeHigh
// 4=EMonitorSpeakerVolumeUnknown

//DialTone values:
// 0=EDialToneWait
// 1=EDialToneNoWait

//IdRestrict values:
// 0=EIdRestrictDefault
// 1=ESendMyId
// 2=EDontSendMyId
//------------------------------------------------------


// MOD_0003_001_1_NokiaTSY_[HW MO call connects - terminated by local user with valid values]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_001_1_NokiaTSY_[HW MO call connects - terminated by local user with valid values]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo release

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 0501122334

//EMobileCallNotifyMobileCallStatusChange
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange
allownextresult 0
waittestclass test

print Answer the call --->

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange
allownextresult 0
waittestclass test

test RunIscTestCase 124
test SyncIscTestCase

test CallHangUp 1 //CallId

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange
allownextresult -8071 //KErrGsmReleaseByUser
waittestclass test

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_002_1_NokiaTSY_[HW MO call connects (EDontSendMyId) - terminated by local user with valid values]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 2=EDontSendMyId
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_002_1_NokiaTSY_[HW MO call connects (EDontSendMyId) - terminated by local user with valid values]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange
test SetExpectedCompleteIPC ECustomTerminateCallIPC

test CallDial 1 0 0 1 0 2 1 0000 0 1 1 0504860645

//EMobileCallNotifyMobileCallStatusChange create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange mo alerting
allownextresult 0
waittestclass test

print Answer the call --->

test CallHangUp 1 //CallId

//ECustomTerminateCallIPC
allownextresult -8071 //KErrGsmReleaseByUser
waittestclass test

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_003_1_NokiaTSY_[HW MO call connects - remote party rejects call]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_003_1_NokiaTSY_[HW MO call connects - remote party rejects call]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mt release
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //idle

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 0501122334

//EMobileCallNotifyMobileCallStatusChange create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

print Answer the call --->

//EMobileCallNotifyMobileCallStatusChange active
allownextresult 0
waittestclass test

print Reject the call

test RemotePartyHangUp

//EMobileCallNotifyMobileCallStatusChange mt release
allownextresult -280887298 //Symbian OS error
waittestclass test

//EMobileCallNotifyMobileCallStatusChange idle
allownextresult -280887298 //Symbian OS error
waittestclass test

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_004_1_NokiaTSY_[HW MO call - Send DTMF tones]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_004_1_NokiaTSY_[HW MO call - Send DTMF tones]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobilePhoneSendDTMFTones

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 0504804405

//EMobileCallNotifyMobileCallStatusChange create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

print Answer the call --->
//EMobileCallNotifyMobileCallStatusChange active
allownextresult 0
waittestclass test

test RunIscTestCase 125
test SyncIscTestCase

print Sending DTMF tones
test SendDTMFTones 1212121254
//EMobilePhoneSendDTMFTones
allownextresult 0
waittestclass test

print HangUp ongoing call
test CallHangUp 1 //CallId

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_005_1_NokiaTSY_[HW Incoming call while there are no other calls]
// Make incoming call to the test phone
//
// Precondition:
// - n/a
//
// Script description:
// - n/a
//
[Test]
title MOD_0003_005_1_NokiaTSY_[HW Incoming call while there are no other calls]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mt alerting

test TestIncomingCall

allownextresult 0
waittestclass test

test RunIscTestCase 124
test SyncIscTestCase

test CallHangUp 1 //CallId

test HandleSpecifiedRequests NO
pause 100
delete test
[Endtest]


// MOD_0003_006_1_NokiaTSY_[HW Holding a voice call]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_006_1_NokiaTSY_[HW Holding a voice call]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //hold

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 +447958336386

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test RunIscTestCase 126
test SyncIscTestCase

test TestHoldCall 1 //callId

//EMobileCallNotifyMobileCallStatusChange //hold
allownextresult 0
waittestclass test

test CallHangUp 1 //CallId

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_007_1_NokiaTSY_[HW Resuming a call]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_007_1_NokiaTSY_[HW Resuming a call]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //hold
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 +447958336386

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test RunIscTestCase 126
test SyncIscTestCase

test TestHoldCall 1 //callId

//EMobileCallNotifyMobileCallStatusChange //hold
allownextresult 0
waittestclass test

test RunIscTestCase 127
test SyncIscTestCase

test TestResumeCall 1 //callId

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test CallHangUp 1 //CallId

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_008_1_NokiaTSY_[HW Swapping active and held voice calls]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_008_1_NokiaTSY_[HW Swapping active and held voice calls]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //hold
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //hold

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 0501122334

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test RunIscTestCase 126
test SyncIscTestCase

test TestHoldCall 1 //callId

//EMobileCallNotifyMobileCallStatusChange //hold
allownextresult 0
waittestclass test

test CallDial 2 0 0 1 0 0 1 0000 0 1 1 04544186407

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test RunIscTestCase 128
test SyncIscTestCase

test TestSwapCalls 1 //callId

//EMobileCallNotifyMobileCallStatusChange //hold
allownextresult 0
waittestclass test

test CallHangUp 1 //CallId
test CallHangUp 2 //CallId

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_009_1_NokiaTSY_[HW Call Transfering]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
//  Also supply a second phone number for call 2
//
[Test]
title MOD_0003_009_1_NokiaTSY_[HW Call Transfering]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //hold
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mt release

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 0501122334

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test RunIscTestCase 126
test SyncIscTestCase

test TestHoldCall 1 //callId

//EMobileCallNotifyMobileCallStatusChange //hold
allownextresult 0
waittestclass test

test CallDial 2 0 0 1 0 0 1 0000 0 1 1 04544186407

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test RunIscTestCase 129
test SyncIscTestCase

test TestCallTransfer 1 //callId

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mt release
allownextresult -280887298
waittestclass test

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0003_010_1_NokiaTSY_[HW Blacklist clearing]
//
// Precondition:
// - n/a
//
// Script description:
// - Parameters for the case:
// 1. 1=CallID
// 2. 0=EMonitorSpeakerControlAlwaysOff,
// 3. 0=EMonitorSpeakerVolumeOff
// 4. 1=0x01(interval)
// 5. 0=EDialToneWait
// 6. 0=EIdRestrictDefault
// 7. 1=true(ExplicitInvoke)
// 8. 0000=0x0000(CugIndex)
// 9. 0=false(SuppressOA)
// 10. 1=true(SuppressPrefCug)
// 11. 1=true(AutoRedial)
// 12. 0501122334=TelNum
//
[Test]
title MOD_0003_010_1_NokiaTSY_[HW Blacklist clearing]
create NTT_Voice test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC ECustomClearCallBlackListIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //create
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //mo alerting
test SetExpectedCompleteIPC ECustomGetRemoteAlertingToneStatusIPC
test SetExpectedCompleteIPC EMobileCallNotifyMobileCallStatusChange //active

test ClearBlacklist

test CallDial 1 0 0 1 0 0 1 0000 0 1 1 0501122334

//ECustomClearCallBlackListIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //create
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //mo alerting
allownextresult 0
waittestclass test

//ECustomGetRemoteAlertingToneStatusIPC
allownextresult 0
waittestclass test

//EMobileCallNotifyMobileCallStatusChange //active
allownextresult 0
waittestclass test

test CallHangUp 1 //CallId

test HandleSpecifiedRequests NO
delete test
[Endtest]
