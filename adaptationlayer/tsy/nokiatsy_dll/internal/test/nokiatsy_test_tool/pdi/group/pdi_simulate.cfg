//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  
//*


// MOD_0009.001_2_NokiaTSY_[XML Getting network registration status]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.001_2_NokiaTSY_[XML Getting network registration status]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketGetNtwkRegStatus
test SetExpectedCompleteIPC EPacketNotifyDynamicCapsChange
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC
test SetExpectedCompleteIPC EPacketNotifyMSClassChange

test RunIscTestCase 151
test SyncIscTestCase
test GetNetworkRegistrationStatus ERegisteredOnHomeNetwork
test SetNotifyDynamicCapsChangeRefParams 1 1
test SetNotifyTransferCapsRefParams 0 0
test SetNotifyMSClassChangeRefParams EMSClassSuspensionRequired


// EPacketGetNtwkRegStatus
waittestclass test
allownextresult 0

// EPacketNotifyDynamicCapsChange
waittestclass test
allownextresult 0

// EPacketNotifyTransferCapsIPC
waittestclass test
allownextresult 0

// EPacketNotifyMSClassChange
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]

// MOD_0009.001_2_2_NokiaTSY_[XML Getting network registration status, EGPRS supported]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.001_2_2_NokiaTSY_[XML Getting network registration status, EGPRS supported]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketGetNtwkRegStatus
test SetExpectedCompleteIPC EPacketNotifyDynamicCapsChange
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC
test SetExpectedCompleteIPC EPacketNotifyMSClassChange

test RunIscTestCase 169
test SyncIscTestCase
test GetNetworkRegistrationStatus ERegisteredOnHomeNetwork
test SetNotifyDynamicCapsChangeRefParams 1 1
test SetNotifyTransferCapsRefParams 0 1
test SetNotifyMSClassChangeRefParams EMSClassSuspensionRequired


// EPacketGetNtwkRegStatus
waittestclass test
allownextresult 0

// EPacketNotifyDynamicCapsChange
waittestclass test
allownextresult 0

// EPacketNotifyTransferCapsIPC
waittestclass test
allownextresult 0

// EPacketNotifyMSClassChange
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]

// MOD_0009.001_3_2_NokiaTSY_[XML Getting network registration status, HSDPA and EGPRS supported]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.001_3_2_NokiaTSY_[XML Getting network registration status, HSDPA and EGPRS supported]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketGetNtwkRegStatus
test SetExpectedCompleteIPC EPacketNotifyDynamicCapsChange
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC
test SetExpectedCompleteIPC EPacketNotifyMSClassChange

test RunIscTestCase 169
test SyncIscTestCase
test GetNetworkRegistrationStatus ERegisteredOnHomeNetwork
test SetNotifyDynamicCapsChangeRefParams 1 1
test SetNotifyTransferCapsRefParams 1 1
test SetNotifyMSClassChangeRefParams EMSClassSuspensionRequired


// EPacketGetNtwkRegStatus
waittestclass test
allownextresult 0

// EPacketNotifyDynamicCapsChange
waittestclass test
allownextresult 0

// EPacketNotifyTransferCapsIPC
waittestclass test
allownextresult 0

// EPacketNotifyMSClassChange
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]

// MOD_0009.003_2_NokiaTSY_[XML Reject Packet Service Activation Request]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.003_2_NokiaTSY_[XML Reject Packet Service Activation Request]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketRejectActivationRequest

test RunIscTestCase 130
test SyncIscTestCase
test PacketServiceRejectActivationRequest

// EPacketRejectActivationRequest
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.004_2_NokiaTSY_[XML Getting Packet Attach Mode]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.004_2_NokiaTSY_[XML Getting Packet Attach Mode]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketGetAttachMode

test RunIscTestCase 131
test SyncIscTestCase
test GetPacketAttachMode EAttachWhenPossible

// EPacketGetAttachMode
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.006_2_NokiaTSY_[XML Setting Packet Service Attach Mode When Needed]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.006_2_NokiaTSY_[XML Setting Packet Service Attach Mode When Needed]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketSetAttachMode

test RunIscTestCase 132
test SyncIscTestCase
test SetPacketServiceAttachMode AttachWhenNeeded

// EPacketGetAttachMode
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.007_2_NokiaTSY_[XML Setting Packet Service Attach Mode When Possible]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.007_2_NokiaTSY_[XML Setting Packet Service Attach Mode When Possible]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketSetAttachMode

test RunIscTestCase 133
test SyncIscTestCase
test SetPacketServiceAttachMode AttachWhenPossible

// EPacketGetAttachMode
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.009_2_NokiaTSY_[XML Setting Preferred Bearer Circuit Switched]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.009_2_NokiaTSY_[XML Setting Preferred Bearer Circuit Switched]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketSetPrefBearer

test RunIscTestCase 134
test SyncIscTestCase
test SetPreferredBearer BearerCircuitSwitched

// EPacketGetAttachMode
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.010_2_NokiaTSY_[XML Setting Preferred Bearer Packet Switched]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.010_2_NokiaTSY_[XML Setting Preferred Bearer Packet Switched]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketSetPrefBearer

test RunIscTestCase 135
test SyncIscTestCase
test SetPreferredBearer BearerPacketSwitched

// EPacketGetAttachMode
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.012_2_NokiaTSY_[XML Get Data Volume Transferred]
//
// Precondition:
// - N/A
//
// Script description:
// - N/A
//
[Test]
title MOD_0009.012_2_NokiaTSY_[XML Get Data Volume Transferred]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextGetDataVolumeTransferred
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 8192

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

test RunIscTestCase 104
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput1000 PriorityMediumPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass3 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

test RunIscTestCase 136
test SyncIscTestCase
test AddPacketFilters 100Int_13 Data PdpTypeIPv4 65535 1 261072 1111 20 65535 1 11 1

test AddMediaAuthorizationParams 100Int_13 Header PdpTypeIPv4 1 1 token 3

// EPacketContextSetConfig
allownextresult 0
waittestclass test

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

pause 5000

test RunIscTestCase 137
test SyncIscTestCase
test GetDataVolumeTransferred 100Int_13 5 10

// EPacketContextGetDataVolumeTransferred
allownextresult 0
waittestclass test

test RunIscTestCase 111
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.013_2_NokiaTSY_[XML O2 HomeZone packet registration ind-gsm_reg]
// Checks network registration status from packet service handler camping in
// O2 homezone.
//
// Precondition:
// - n/a

// Script description:
// - O2 HPLMN is read from SIM-card (EMobilePhoneGetHomeNetwork)
// - camping in O2 network happens through receiving NET_MODEM_REG_STATUS_IND
//   (NET_MODEM_GSM_REG_INFO)
// - wait for completion of EPacketNotifyChangeOfNtwkRegStatus
//   with RPacketService::ERegisteredOnHomeNetwork
//
[Test]
title MOD_0009.013_2_NokiaTSY_[XML O2 HomeZone packet registration ind-gsm_reg]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EMobilePhoneGetHomeNetwork
test SetExpectedCompleteIPC EPacketNotifyChangeOfNtwkRegStatus

test RunIscTestCase 158
test SyncIscTestCase

test GetHomeNetwork
test NotifyChangeOfNtwkRegStatusSetParameter ERegisteredOnHomeNetwork

// EMobilePhoneGetHomeNetwork
allownextresult 0
waittestclass test

// EPacketNotifyChangeOfNtwkRegStatus
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.014_2_NokiaTSY_[XML O2 HomeZone registration ind-cell_info]
// Checks network registration status from packet service handler camping in
// O2 homezone.
//
// Precondition:
// - n/a

// Script description:
// - O2 HPLMN is read from SIM-card (EMobilePhoneGetHomeNetwork)
// - camping in O2 network happens through receiving NET_MODEM_REG_STATUS_IND
//   (NET_CURRENT_CELL_INFO)
// - wait for completion of EPacketNotifyChangeOfNtwkRegStatus
//   with RRPacketService::ERegisteredOnHomeNetwork
//
[Test]
title MOD_0009.014_2_NokiaTSY_[XML O2 HomeZone registration ind-cell_info]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EMobilePhoneGetHomeNetwork
test SetExpectedCompleteIPC EPacketNotifyChangeOfNtwkRegStatus

test RunIscTestCase 159
test SyncIscTestCase

test GetHomeNetwork
test NotifyChangeOfNtwkRegStatusSetParameter ERegisteredOnHomeNetwork

// EMobilePhoneGetHomeNetwork
allownextresult 0
waittestclass test

// EPacketNotifyChangeOfNtwkRegStatus
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.015_2_NokiaTSY_[XML O2 HomeZone registration get]
// Checks network registration status camping in O2 homezone.
//
// Precondition:
// - n/a

// Script description:
// - O2 HPLMN is read from SIM-card (EMobilePhoneGetHomeNetwork)
// - registration status is requested through EPacketGetNtwkRegStatus
// - NTSY sends NET_MODEM_REG_STATUS_GET_REQ
// - CellMo responds with NET_MODEM_REG_STATUS_GET_RESP
//   (O2 networkId in NET_MODEM_GSM_REG_INFO subblock)
// - wait for completion of EPacketGetNtwkRegStatus with
//   RRPacketService::ERegisteredOnHomeNetwork
//
[Test]
title MOD_0009.015_2_NokiaTSY_[XML O2 HomeZone registration get]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EMobilePhoneGetHomeNetwork
test SetExpectedCompleteIPC EPacketGetNtwkRegStatus

test RunIscTestCase 160
test SyncIscTestCase

test GetHomeNetwork

// EMobilePhoneGetHomeNetwork
allownextresult 0
waittestclass test

test GetNetworkRegistrationStatus ERegisteredOnHomeNetwork

// EPacketGetNtwkRegStatus
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.016_2_NokiaTSY_[XML O2 SIM-card registers in other network ind]
// Checks registration status is roaming registering in non-O2 network with O2
// SIM-card
//
// Precondition:
// - n/a

// Script description:
// - O2 HPLMN is read from SIM-card (EMobilePhoneGetHomeNetwork)
// - camping in non-O2 network happens through receiving NET_MODEM_REG_STATUS_IND
//   (NET_MODEM_GSM_REG_INFO)
// - wait for completion of EPacketNotifyChangeOfNtwkRegStatus
//   with RRPacketService::ERegisteredRoaming
//
[Test]
title MOD_0009.016_2_NokiaTSY_[XML O2 SIM-card registers in other network ind]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EMobilePhoneGetHomeNetwork
test SetExpectedCompleteIPC EPacketNotifyChangeOfNtwkRegStatus

test RunIscTestCase 161
test SyncIscTestCase

test GetHomeNetwork
test NotifyChangeOfNtwkRegStatusSetParameter ERegisteredRoaming

// EMobilePhoneGetHomeNetwork
allownextresult 0
waittestclass test

// EPacketNotifyChangeOfNtwkRegStatus
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.017_2_NokiaTSY_[XML non-O2 SIM-card registers in O2 network ind]
// Checks registration status is roaming registering in O2 network with LATIN
// SIM-card
//
// Precondition:
// - n/a

// Script description:
// - LATIN HPLMN is read from SIM-card (EMobilePhoneGetHomeNetwork)
// - camping in O2 network happens through receiving NET_MODEM_REG_STATUS_IND
//   (NET_MODEM_GSM_REG_INFO)
// - wait for completion of EPacketNotifyChangeOfNtwkRegStatus
//   with RRPacketService::ERegisteredRoaming
//
[Test]
title MOD_0009.017_2_NokiaTSY_[XML non-O2 SIM-card registers in O2 network ind]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EMobilePhoneGetHomeNetwork
test SetExpectedCompleteIPC EPacketNotifyChangeOfNtwkRegStatus

test RunIscTestCase 162
test SyncIscTestCase

test GetHomeNetwork
test NotifyChangeOfNtwkRegStatusSetParameter ERegisteredRoaming

// EMobilePhoneGetHomeNetwork
allownextresult 0
waittestclass test

// EMobilePhoneNotifyNetworkRegistrationStatusChange
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//**************************************************************************
//
//       PARAMETER CONFIGURATIONS TABLE FOR PACKET CONNECTION TESTS
//
//**************************************************************************
//
//
// Attach to Packet Network
// ------------------------
// PacketServiceAttach
// parameters:
//   NONE
//
//
//
// Detach from Packet Network
// ------------------------
// PacketServiceDetach
// parameters:
//   NONE
//
//
//
// Set Packet Context Configuration
// --------------------------------
// SetPacketContextConfiguration
// parameters:
//   context name
//   context config type
//     GPRS
//     R99_R4
//     R5
//   protocol
//     PdpTypeIPv4
//     PdpTypeIPv6
//   context name
//   context cont type network or mobile
//
//
// Set Profile Quality of Service Params
// -------------------------------------
// SetProfileQoSParams
// parameters:
//   profile
//     GPRS
//     R99_R4
//     R5
//   signalling indication
//     True
//     False
//   context name
//   protocol
//     PdpTypeIPv4
//     PdpTypeIPv6
//     PdpTypeX25
//     PdpTypePPP
//     PdpTypeCDPD
//   context status
//     StatusUnknown
//     StatusInactive
//     StatusActivating
//     StatusActive
//     StatusDeactivating
//     StatusSuspended
//     StatusDeleted
//   minimun delay
//     UnspecifiedDelayClass
//     DelayClass1
//     DelayClass2
//     DelayClass3
//     DelayClass4
//   minimun mean throughput
//     UnspecifiedMeanThroughput
//     MeanThroughput100
//     MeanThroughput200
//     MeanThroughput500
//     MeanThroughput1000
//     MeanThroughput2000
//     MeanThroughput5000
//     MeanThroughput10000
//     MeanThroughput20000
//     MeanThroughput50000
//     MeanThroughput100000
//     MeanThroughput200000
//     MeanThroughput500000
//     MeanThroughput1000000
//     MeanThroughput2000000
//     MeanThroughput5000000
//     MeanThroughput10000000
//     MeanThroughput20000000
//     MeanThroughput50000000
//     MeanThroughputBestEffort
//   minimun peak throughput
//     UnspecifiedPeakThroughput
//     PeakThroughput1000
//     PeakThroughput2000
//     PeakThroughput4000
//     PeakThroughput8000
//     PeakThroughput16000
//     PeakThroughput32000
//     PeakThroughput64000
//     PeakThroughput128000
//     PeakThroughput256000
//   minimun precedence
//     UnspecifiedPrecedence
//     PriorityHighPrecedence
//     PriorityMediumPrecedence
//     PriorityLowPrecedence
//   minimun reliability
//     UnspecifiedReliabilityClass
//     ReliabilityClass1
//     ReliabilityClass2
//     ReliabilityClass3
//     ReliabilityClass4
//     ReliabilityClass5
//   required delay
//     UnspecifiedDelayClass
//     DelayClass1
//     DelayClass2
//     DelayClass3
//     DelayClass4
//   required mean throughput
//     UnspecifiedMeanThroughput
//     MeanThroughput100
//     MeanThroughput200
//     MeanThroughput500
//     MeanThroughput1000
//     MeanThroughput2000
//     MeanThroughput5000
//     MeanThroughput10000
//     MeanThroughput20000
//     MeanThroughput50000
//     MeanThroughput100000
//     MeanThroughput200000
//     MeanThroughput500000
//     MeanThroughput1000000
//     MeanThroughput2000000
//     MeanThroughput5000000
//     MeanThroughput10000000
//     MeanThroughput20000000
//     MeanThroughput50000000
//     MeanThroughputBestEffort
//   required peak throughput
//     UnspecifiedPeakThroughput
//     PeakThroughput1000
//     PeakThroughput2000
//     PeakThroughput4000
//     PeakThroughput8000
//     PeakThroughput16000
//     PeakThroughput32000
//     PeakThroughput64000
//     PeakThroughput128000
//     PeakThroughput256000
//   required precedence
//     UnspecifiedPrecedence
//     PriorityHighPrecedence
//     PriorityMediumPrecedence
//     PriorityLowPrecedence
//   required reliability
//     UnspecifiedReliabilityClass
//     ReliabilityClass1
//     ReliabilityClass2
//     ReliabilityClass3
//     ReliabilityClass4
//     ReliabilityClass5
//   minimun traffic class
//     TrafficClassUnspecified
//     TrafficClassConversational
//     TrafficClassStreaming
//     TrafficClassInteractive
//     TrafficClassBackground
//   minimun delivery order requested
//     DeliveryOrderUnspecified
//     DeliveryOrderRequired
//     DeliveryOrderNotRequired
//   minimun delivery erroneus SDU
//     ErroneousSDUDeliveryUnspecified
//     ErroneousSDUNoDetection
//     ErroneousSDUDeliveryRequired
//     ErroneousSDUDeliveryNotRequired
//   maximum acceptable target BER
//     BERUnspecified
//     BERFivePerHundred
//     BEROnePerHundred
//     BERFivePerThousand
//     BERFourPerThousand
//     BEROnePerThousand
//     BEROnePerTenThousand
//     BEROnePerHundredThousand
//     BEROnePerMillion
//     BERSixPerHundredMillion
//   maximum acceptable target SDU error ratio
//     SDUErrorRatioUnspecified
//     SDUErrorRatioOnePerTen
//     SDUErrorRatioOnePerHundred
//     SDUErrorRatioSevenPerThousand
//     SDUErrorRatioOnePerThousand
//     SDUErrorRatioOnePerTenThousand
//     SDUErrorRatioOnePerHundredThousand
//     SDUErrorRatioOnePerMillion
//   minimun traffic handling priority
//     TrafficPriorityUnspecified
//     TrafficPriority1
//     TrafficPriority2
//     TrafficPriority3
//
//
//
// Initialize Packet Context
// -------------------------
// InitializePacketContext
// parameters:
//   context name
//   host cid name
//
//
//
// Delete Packet Context
// -------------------------
// DeletePacketContext
// parameters:
//   context name
//
//
//
// Setting Default Context Params for Packet Service
// -------------------------------------------------
// PacketServiceSetDefaultContextParameters
// parameters:
//   configuration
//     GPRS
//     R99_R4
//   protocol
//     PdpTypeIPv4
//     PdpTypeIPv6
//     PdpTypePPP
//   compression
//     header
//     data
//
//
//
// Adding Packet Filters
// -------------------------------------------------
// AddPacketFilters
// parameters:
//   context name
//   compression
//     header
//     data
//   protocol
//   maximum destination port number of incoming packets
//     value range 0 - 65535
//   lowest destination port number of incoming packets
//     value range 0 - 65535
//   flow label of incoming packets
//     3 octets with 20-bit field containing the flow label
//   security parameter index
//     32-bit field
//   protocol number (IPv4) or next header (IPv6) field of incoming packets
//     value range 0 - 255
//   maximum source port number of incoming packets
//     value range 0 - 65535
//   minimum source port number of incoming packets
//     value range 0 - 65535
//   type of service (IPv4) or traffic class (IPv6)
//     1 octet TOS/Traffic class + 1 octet TOS/Traffic class mask
//   packet filter identifier
//     value range: 1 - 8
//
//
//
// Adding Media Authorization Params
// -------------------------------------------------
// AddMediaAuthorizationParams
// parameters:
//   context name
//   compression
//     header
//     data
//   IP flow number
//   media component number
//   authorization token name
//   list (count) of flow identifiers authorization token is granted for
//
//
//
// Activate Packet Context
// -------------------------------------------------
// ActivatePacketContext
// parameters:
//   context name
//
//
//
// Deactivate Packet Context
// -------------------------------------------------
// ActivatePacketContext
// parameters:
//   context name
//
//
//
// Get Data Volume Transferred
// -------------------------------------------------
// GetDataVolumeTransferred
// parameters:
//   context name
//
//
//
// Modify Packet Context
// -------------------------------------------------
// ModifyPacketContext
// parameters:
//   context name
//   minimun delay
//     UnspecifiedDelayClass
//     DelayClass1
//     DelayClass2
//     DelayClass3
//     DelayClass4
//     x (means no QoS97 params used)
//   minimun mean throughput
//     UnspecifiedMeanThroughput
//     MeanThroughput100
//     MeanThroughput200
//     MeanThroughput500
//     MeanThroughput1000
//     MeanThroughput2000
//     MeanThroughput5000
//     MeanThroughput10000
//     MeanThroughput20000
//     MeanThroughput50000
//     MeanThroughput100000
//     MeanThroughput200000
//     MeanThroughput500000
//     MeanThroughput1000000
//     MeanThroughput2000000
//     MeanThroughput5000000
//     MeanThroughput10000000
//     MeanThroughput20000000
//     MeanThroughput50000000
//     MeanThroughputBestEffort
//   minimun peak throughput
//     UnspecifiedPeakThroughput
//     PeakThroughput1000
//     PeakThroughput2000
//     PeakThroughput4000
//     PeakThroughput8000
//     PeakThroughput16000
//     PeakThroughput32000
//     PeakThroughput64000
//     PeakThroughput128000
//     PeakThroughput256000
//   minimun precedence
//     UnspecifiedPrecedence
//     PriorityHighPrecedence
//     PriorityMediumPrecedence
//     PriorityLowPrecedence
//   minimun reliability
//     UnspecifiedReliabilityClass
//     ReliabilityClass1
//     ReliabilityClass2
//     ReliabilityClass3
//     ReliabilityClass4
//     ReliabilityClass5
//   required delay
//     UnspecifiedDelayClass
//     DelayClass1
//     DelayClass2
//     DelayClass3
//     DelayClass4
//   required mean throughput
//     UnspecifiedMeanThroughput
//     MeanThroughput100
//     MeanThroughput200
//     MeanThroughput500
//     MeanThroughput1000
//     MeanThroughput2000
//     MeanThroughput5000
//     MeanThroughput10000
//     MeanThroughput20000
//     MeanThroughput50000
//     MeanThroughput100000
//     MeanThroughput200000
//     MeanThroughput500000
//     MeanThroughput1000000
//     MeanThroughput2000000
//     MeanThroughput5000000
//     MeanThroughput10000000
//     MeanThroughput20000000
//     MeanThroughput50000000
//     MeanThroughputBestEffort
//   required peak throughput
//     UnspecifiedPeakThroughput
//     PeakThroughput1000
//     PeakThroughput2000
//     PeakThroughput4000
//     PeakThroughput8000
//     PeakThroughput16000
//     PeakThroughput32000
//     PeakThroughput64000
//     PeakThroughput128000
//     PeakThroughput256000
//   required precedence
//     UnspecifiedPrecedence
//     PriorityHighPrecedence
//     PriorityMediumPrecedence
//     PriorityLowPrecedence
//   required reliability
//     UnspecifiedReliabilityClass
//     ReliabilityClass1
//     ReliabilityClass2
//     ReliabilityClass3
//     ReliabilityClass4
//     ReliabilityClass5
//   minimun traffic class
//     TrafficClassUnspecified
//     TrafficClassConversational
//     TrafficClassStreaming
//     TrafficClassInteractive
//     TrafficClassBackground
//     x ( means no QoS99 params used )
//   minimun delivery order requested
//     DeliveryOrderUnspecified
//     DeliveryOrderRequired
//     DeliveryOrderNotRequired
//   minimun delivery erroneus SDU
//     ErroneousSDUDeliveryUnspecified
//     ErroneousSDUNoDetection
//     ErroneousSDUDeliveryRequired
//     ErroneousSDUDeliveryNotRequired
//   maximum acceptable target BER
//     BERUnspecified
//     BERFivePerHundred
//     BEROnePerHundred
//     BERFivePerThousand
//     BERFourPerThousand
//     BEROnePerThousand
//     BEROnePerTenThousand
//     BEROnePerHundredThousand
//     BEROnePerMillion
//     BERSixPerHundredMillion
//   maximum acceptable target SDU error ratio
//     SDUErrorRatioUnspecified
//     SDUErrorRatioOnePerTen
//     SDUErrorRatioOnePerHundred
//     SDUErrorRatioSevenPerThousand
//     SDUErrorRatioOnePerThousand
//     SDUErrorRatioOnePerTenThousand
//     SDUErrorRatioOnePerHundredThousand
//     SDUErrorRatioOnePerMillion
//   minimun traffic handling priority
//     TrafficPriorityUnspecified
//     TrafficPriority1
//     TrafficPriority2
//     TrafficPriority3
//   tft operation
//     TftCreateNew
//     DeleteExisting
//     AddPacketFilters
//     ReplacePacketFilters
//     DeletePacketFilters
//     TftNoOperation
//   protocol
//     PdpTypeIPv4
//     PdpTypeIPv6
//   packet filter and/or media authorization params included
//     Packetfilter ( media authorization is set to NULL )
//     Mediaauthorization ( packet filter is set to NULL )
//     Both ( both used )
//     None ( neither is used )
//
//
//******************************************************************


//***************************************************
// MOD_0009_101_2_NokiaTSY_[XML GPRS QoS Config 1]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_101_2_NokiaTSY_[XML GPRS QoS Config 1]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 138
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive UnspecifiedDelayClass UnspecifiedMeanThroughput UnspecifiedPeakThroughput UnspecifiedPrecedence UnspecifiedReliabilityClass DelayClass1 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_102_2_NokiaTSY_[XML GPRS QoS Config 2]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_102_2_NokiaTSY_[XML GPRS QoS Config 2]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 140
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypePPP StatusInactive DelayClass2 MeanThroughput200 PeakThroughput2000 PriorityMediumPrecedence ReliabilityClass2 DelayClass3 MeanThroughput500 PeakThroughput4000 PriorityLowPrecedence ReliabilityClass3 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_103_2_NokiaTSY_[XML GPRS QoS Config 3]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_103_2_NokiaTSY_[XML GPRS QoS Config 3]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 141
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeX25 StatusInactive DelayClass4 MeanThroughput1000 PeakThroughput8000 PriorityHighPrecedence ReliabilityClass4 DelayClass3 MeanThroughput2000 PeakThroughput16000 PriorityHighPrecedence ReliabilityClass5 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_104_2_NokiaTSY_[XML GPRS QoS Config 4]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_104_2_NokiaTSY_[XML GPRS QoS Config 4]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 142
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeCDPD StatusInactive DelayClass3 MeanThroughput5000 PeakThroughput32000 PriorityMediumPrecedence ReliabilityClass1 DelayClass3 MeanThroughput10000 PeakThroughput64000 PriorityLowPrecedence ReliabilityClass2 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_105_2_NokiaTSY_[XML GPRS QoS Config 5]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_105_2_NokiaTSY_[XML GPRS QoS Config 5]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 143
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass3 MeanThroughput20000 PeakThroughput128000 PriorityHighPrecedence ReliabilityClass3 DelayClass1 MeanThroughput50000 PeakThroughput256000 PriorityMediumPrecedence ReliabilityClass4 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_106_2_NokiaTSY_[XML GPRS QoS Config 6]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_106_2_NokiaTSY_[XML GPRS QoS Config 6]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 144
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass2 MeanThroughput100000 PeakThroughput1000 PriorityLowPrecedence ReliabilityClass5 DelayClass3 MeanThroughput200000 PeakThroughput2000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_107_2_NokiaTSY_[XML GPRS QoS Config 7]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_107_2_NokiaTSY_[XML GPRS QoS Config 7]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 145
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass4 MeanThroughput500000 PeakThroughput4000 PriorityMediumPrecedence ReliabilityClass2 DelayClass3 MeanThroughput1000000 PeakThroughput8000 PriorityLowPrecedence ReliabilityClass3 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_108_2_NokiaTSY_[XML GPRS QoS Config 8]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_108_2_NokiaTSY_[XML GPRS QoS Config 8]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 146
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass4 MeanThroughput2000000 PeakThroughput16000 PriorityHighPrecedence ReliabilityClass4 DelayClass4 MeanThroughput5000000 PeakThroughput32000 PriorityMediumPrecedence ReliabilityClass5 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_109_2_NokiaTSY_[XML GPRS QoS Config 9]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_109_2_NokiaTSY_[XML GPRS QoS Config 9]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 147
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass1 MeanThroughput10000000 PeakThroughput64000 PriorityLowPrecedence ReliabilityClass1 DelayClass2 MeanThroughput20000000 PeakThroughput128000 PriorityHighPrecedence ReliabilityClass2 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


//***************************************************
// MOD_0009_110_2_NokiaTSY_[XML GPRS QoS Config 10]
// Setting GPRS QoS params
//
//***************************************************
[Test]
title MOD_0009_110_2_NokiaTSY_[XML GPRS QoS Config 10]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// PacketServiceAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 148
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass3 MeanThroughput50000000 PeakThroughput256000 PriorityMediumPrecedence ReliabilityClass3 DelayClass4 MeanThroughputBestEffort PeakThroughput1000 PriorityLowPrecedence ReliabilityClass4 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 139
test SyncIscTestCase
test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.501_2_NokiaTSY_[XML Transfer Caps Change HSDPA, EGPRS not supported]
// HSDPA resource allocation is set TRUE in the NET_RADIO_INFO_IND message
// HSUPA recource allocation is set FALSE in the NET_RADIO_INFO_IND message
// EGPRS support in cell is set false in the NET_MODEM_REG_STATUS_GET_RESP/IND message
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
[Test]
title MOD_0009.501_2_NokiaTSY_[XML Transfer Caps Change HSDPA, EGPRS not supported]
create NTT_PDI test

test HandleSpecifiedRequests YES

test InitializeIPCRequestTable
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC

test RunIscTestCase 101
test SyncIscTestCase
test SetNotifyTransferCapsRefParams 1 0
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]

// Test MOD_0009.501_2_2_NokiaTSY_[XML Transfer Caps Change HSDPA, EGPRS supported]
// HSDPA resource allocation is set TRUE in the NET_RADIO_INFO_IND message
// HSUPA recource allocation is set FALSE in the NET_RADIO_INFO_IND message
// EGPRS support in cell is set true in the NET_MODEM_REG_STATUS_GET_RESP/IND message
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
[Test]
title MOD_0009.501_2_2_NokiaTSY_[XML Transfer Caps Change HSDPA, EGPRS supported]
create NTT_PDI test

test HandleSpecifiedRequests YES

test InitializeIPCRequestTable
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC

test RunIscTestCase 170
test SyncIscTestCase
test SetNotifyTransferCapsRefParams 1 1
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.502_2_NokiaTSY_[XML Transfer Caps Change HSUPA, EGPRS supported]
// HSDPA resource allocation is set FALSE in the NET_RADIO_INFO_IND message
// HSUPA recource allocation is set TRUE in the NET_RADIO_INFO_IND message
// EGPRS support in cell is set true in the NET_MODEM_REG_STATUS_GET_RESP/IND message
//
// Precondition:
// - Flag INTERNAL_TESTING_CASW_HSXPA_INDICATOR_SUPPORT is defined and
//   DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
[Test]
title MOD_0009.502_2_NokiaTSY_[XML Transfer Caps Change HSUPA, EGPRS supported]
create NTT_PDI test

test HandleSpecifiedRequests YES

test InitializeIPCRequestTable
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC

test RunIscTestCase 127
test SyncIscTestCase
test SetNotifyTransferCapsRefParams 1 1
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.503_2_NokiaTSY_[XML Transfer Caps Change HSDPA And HSUPA, EGPRS not supported]
// HSDPA resource allocation is set TRUE in the NET_RADIO_INFO_IND message
// HSUPA recource allocation is set TRUE in the NET_RADIO_INFO_IND message
// EGPRS support in cell is set false in the NET_MODEM_REG_STATUS_GET_RESP/IND message
//
// Precondition:
// - Flag INTERNAL_TESTING_CASW_HSXPA_INDICATOR_SUPPORT is defined and
//   DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
[Test]
title MOD_0009.503_2_NokiaTSY_[XML Transfer Caps Change HSDPA And HSUPA, EGPRS not supported]
create NTT_PDI test

test HandleSpecifiedRequests YES

test InitializeIPCRequestTable
test SetExpectedCompleteIPC EPacketNotifyTransferCapsIPC

test RunIscTestCase 128
test SyncIscTestCase
test SetNotifyTransferCapsRefParams 1 0
waittestclass test
allownextresult 0

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.601_2_NokiaTSY_[XML GPRS QoS Config R5,Mobile context conf]
// Properly send context configuration from mobile
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release R5 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   R5 and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV6 and GPDS_CONT_TYPE_NORMAL.
//   If the values doesn't match the test asserts.
[Test]
title MOD_0009.601_2_NokiaTSY_[XML GPRS QoS Config R5,Mobile context conf]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 152
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R5 True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive x x x x x x x x x x TrafficClassConversational DeliveryOrderRequired ErroneousSDUNoDetection BERFivePerHundred SDUErrorRatioOnePerTen TrafficPriority1

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 153
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.602_2_NokiaTSY_[XML GPRS QoS Config R5,Network context conf]
// Properly send context configuration from mobile
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release R5 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   R5 and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NWI.
//   If the values doesn't match the test asserts.
[Test]
title MOD_0009.602_2_NokiaTSY_[XML GPRS QoS Config R5,Network context conf]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 107
test SyncIscTestCase

test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv4 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R5 True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive x x x x x x x x x x TrafficClassUnspecified DeliveryOrderUnspecified ErroneousSDUDeliveryUnspecified BERUnspecified SDUErrorRatioUnspecified TrafficPriorityUnspecified

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 153
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach


// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.603_2_NokiaTSY_[XML GPRS QoS Config GPRS,Mobile context conf]
// Properly send context configuration from mobile
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   GPRS and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL.
//   If the values doesn't match the test asserts.
[Test]
title MOD_0009.603_2_NokiaTSY_[XML GPRS QoS Config GPRS,Mobile context conf]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 108
test SyncIscTestCase

test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive UnspecifiedDelayClass UnspecifiedMeanThroughput UnspecifiedPeakThroughput UnspecifiedPrecedence UnspecifiedReliabilityClass DelayClass1 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 153
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.604_2_NokiaTSY_[XML GPRS QoS Config GPRS,Network context conf]
// Properly send context configuration from mobile
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   GPRS and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV6 and GPDS_CONT_TYPE_NWI.
//   If the values doesn't match the test asserts.
[Test]
title MOD_0009.604_2_NokiaTSY_[XML GPRS QoS Config GPRS,Network context conf]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 109
test SyncIscTestCase

test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv6 NWICONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive UnspecifiedDelayClass UnspecifiedMeanThroughput UnspecifiedPeakThroughput UnspecifiedPrecedence UnspecifiedReliabilityClass DelayClass1 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 153
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test DeletePacketContext 100Int_13

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.701_2_NokiaTSY_[XML GPRS QoS Config GPRS,Context deactivation after pipe remove]
// KErrGeneral is returned for EPacketContextDeactivate when pipe has already been removed.
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   GPRS and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and deleted. If the values doesn't match the test asserts.
[Test]
title MOD_0009.701_2_NokiaTSY_[XML GPRS QoS Config GPRS,Context deactivation after pipe remove]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 108
test SyncIscTestCase

test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass3 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 112
test SyncIscTestCase

test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 110
test SyncIscTestCase

test DeletePacketContext 100Int_13
test DeactivatePacketContext 100Int_13

// EPacketContextDeactivate
allownextresult -2
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

delete test
[Endtest]

// Test MOD_0009.702_2_1_NokiaTSY_[XML GPRS QoS Config GPRS,Context connected and deleted]
// Context deactivated and deleted correctly.
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   GPRS and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and deleted. If the values doesn't match the test asserts.
[Test]
title MOD_0009.702_2_NokiaTSY_[XML GPRS QoS Config GPRS,Context connected and deleted]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 108
test SyncIscTestCase

test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass3 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 112
test SyncIscTestCase

test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 111
test SyncIscTestCase
test DeactivatePacketContext 100Int_13
test SetExpectedContextMicsStatus EStatusDeactivating

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]

// Test MOD_0009.702_2_2_NokiaTSY_[XML GPRS QoS Config GPRS,IPv6 Context connected and deleted]
// Context deactivated and deleted correctly.
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   GPRS and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV6 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and deleted. If the values doesn't match the test asserts.
[Test]
title MOD_0009.702_2_2_NokiaTSY_[XML GPRS QoS Config GPRS,IPv6 Context connected and deleted]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 163
test SyncIscTestCase

test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv6 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass3 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 164
test SyncIscTestCase

test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 111
test SyncIscTestCase
test DeactivatePacketContext 100Int_13
test SetExpectedContextMicsStatus EStatusDeactivating

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]

// Test MOD_0009.703_2_NokiaTSY_[XML GPRS QoS Config GPRS without configuration setting]
// Verification test case for error correction: Nokia TSY crashed when QoS Config
// without configuration setting was done.
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release R5 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be
//   R5 and the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV6 and GPDS_CONT_TYPE_NORMAL.
[Test]
title MOD_0009.703_2_NokiaTSY_[XML GPRS QoS Config R5 without configuration setting]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketDetach

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 114
test SyncIscTestCase
test SetProfileQoSParams R5 True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive x x x x x x x x x x TrafficClassConversational DeliveryOrderRequired ErroneousSDUNoDetection BERFivePerHundred SDUErrorRatioOnePerTen TrafficPriority1

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.704_2_NokiaTSY_[XML Packet Data Connection (Primary & Secondary)].
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release R5 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter types must be
//   R5 and the values of the parameters PDP Type GPDS_PDP_TYPE_IPV6.
//   Context Type must be GPDS_CONT_TYPE_NORMAL for primary context and
//   GPDS_CONT_TYPE_SEC for secondary context. After configuration context
//   is activated and finaly deleted.
//   If the values doesn't match the test asserts.
[Test]
title MOD_0009.704_2_NokiaTSY_[XML Packet Data Connection (Primary & Secondary)]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextModifyActiveContext
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Create Primary Context
test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 154
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R5 True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive x x x x x x x x x x TrafficClassBackground DeliveryOrderNotRequired ErroneousSDUDeliveryNotRequired BEROnePerHundredThousand SDUErrorRatioOnePerTenThousand TrafficPriorityUnspecified

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 115
test SyncIscTestCase
test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Create Secondary Context
test RunIscTestCase 116
test SyncIscTestCase
test InitializePacketContext 101Int_14 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 117
test SyncIscTestCase
test AddPacketFilters 101Int_14 Data PdpTypeIPv6 65535 1 261072 1111 20 65535 1 11 1

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R5 True 101Int_14 100Int_13 PdpTypeIPv6 StatusInactive x x x x x x x x x x TrafficClassBackground DeliveryOrderNotRequired ErroneousSDUDeliveryNotRequired BEROnePerHundredThousand SDUErrorRatioOnePerTenThousand TrafficPriorityUnspecified

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 118
test SyncIscTestCase
test ActivatePacketContext 101Int_14

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Modify secondary context
test RunIscTestCase 121
test SyncIscTestCase
test ModifyPacketContext 101Int_14 x x x x x x x x x x x x x x x x DeletePacketFilters PdpTypeIPv6 None

// EPacketContextModifyActiveContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Close Secondary Context
test RunIscTestCase 119
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 101Int_14

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive

test DeletePacketContext 101Int_14

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Close Primary Context
test RunIscTestCase 111
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.705_2_NokiaTSY_[XML Packet Data Connection (Primary & Secondary),Allow Incoming CS Call].
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release R5 is set in context configuration and Nokia TSY
//   sends the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter types must be
//   R5 and the values of the parameters PDP Type GPDS_PDP_TYPE_IPV6.
//   Context Type must be GPDS_CONT_TYPE_NORMAL for primary context and
//   GPDS_CONT_TYPE_SEC for secondary context. After configuration context
//   is activated and secondary context is closed to allow incoming CS call.
//   Finaly also primary context is deleted.
//   If the values doesn't match the test asserts.
[Test]
title MOD_0009.705_2_NokiaTSY_[XML Packet Data Connection (Primary & Secondary),Allow Incoming CS Call]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Create Primary Context
test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 154
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R5 PdpTypeIPv6 MOBILECONTEXTCONF

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R5 True 100Int_13 100Int_13 PdpTypeIPv6 StatusInactive x x x x x x x x x x TrafficClassBackground DeliveryOrderNotRequired ErroneousSDUDeliveryNotRequired BEROnePerHundredThousand SDUErrorRatioOnePerTenThousand TrafficPriorityUnspecified

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 115
test SyncIscTestCase
test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Create Secondary Context
test RunIscTestCase 116
test SyncIscTestCase
test InitializePacketContext 101Int_14 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 117
test SyncIscTestCase
test AddPacketFilters 101Int_14 Data PdpTypeIPv6 65535 1 261072 1111 20 65535 1 11 1

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R5 True 101Int_14 100Int_13 PdpTypeIPv6 StatusInactive x x x x x x x x x x TrafficClassBackground DeliveryOrderNotRequired ErroneousSDUDeliveryNotRequired BEROnePerHundredThousand SDUErrorRatioOnePerTenThousand TrafficPriorityUnspecified

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 118
test SyncIscTestCase
test ActivatePacketContext 101Int_14

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Allow incoming CS call
test RunIscTestCase 122
test SyncIscTestCase

test SetExpectedContextMicsStatus EStatusDeactivating

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

//Close Secondary Context
test RunIscTestCase 123
test SyncIscTestCase
test DeletePacketContext 101Int_14

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Close Primary Context
test RunIscTestCase 111
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.706_2_NokiaTSY_[XML GPRS QoS Config GPRS,Request IPv4 PCSCF Address]
// Context activated, deactivated  and deleted correctly.
// P-CSCF Address received on IPv4 format (4 bytes).
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY sends
//   the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be GPRS and
//   the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and deleted. P-CSCF address needs to be requested and
//   correct address received. If the values doesn't match the test asserts.
[Test]
title MOD_0009.706_2_NokiaTSY_[XML GPRS QoS Config GPRS,Request IPv4 PCSCF Address]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 124
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 MOBILECONTEXTCONF RequesPCSCFAddr

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput32000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 125
test SyncIscTestCase
test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 111
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.707_2_NokiaTSY_[XML GPRS QoS Config GPRS,Request IPv6 PCSCF Address]
// Context activated, deactivated  and deleted correctly.
// P-CSCF Address received on IPv6 format (16 bytes).
//
// Precondition:
// - Flag DUMMY_NIF_PEP_FOR_PACKET_DATA_TESTING_DOS is undefined in
//   nokiatsy_internal_variation.h
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY sends
//   the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be GPRS and
//   the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and deleted. P-CSCF address needs to be requested and
//   correct address received. If the values doesn't match the test asserts.
[Test]
title MOD_0009.707_2_NokiaTSY_[XML GPRS QoS Config GPRS,Request IPv6 PCSCF Address]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate
test SetExpectedCompleteIPC EPacketQoSNotifyProfileChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConnectionSpeedChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDeactivate
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextNotifyStatusChange
test SetExpectedCompleteIPC EPacketContextDelete
test SetExpectedCompleteIPC EPacketDetach

test SetExpectedPacketContextNotifyConnectionSpeed 262144

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 124
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 MOBILECONTEXTCONF RequesPCSCFAddr

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass1 MeanThroughput100 PeakThroughput1000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 126
test SyncIscTestCase
test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

// EPacketQoSNotifyProfileChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextNotifyConnectionSpeedChange
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 111
test SyncIscTestCase
test SetExpectedContextMicsStatus EStatusDeactivating
test DeactivatePacketContext 100Int_13

// EPacketContextNotifyConfigChanged
allownextresult 0
waittestclass test

// EPacketContextDeactivate
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusInactive
test DeletePacketContext 100Int_13

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

test SetExpectedContextMicsStatus EStatusDeleted

// EPacketContextNotifyStatusChange
allownextresult 0
waittestclass test

// EPacketContextDelete
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 106
test SyncIscTestCase
test PacketServiceDetach

// EPacketDetach
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// MOD_0009.708_2_NokiaTSY_[XML GPDS transfer status indication, barred network]
//
// Precondition:
// - The feature under test (DCM DSAC) is flagged in NTSY, because it is supported only
//   in cellmo version ICPR71. This test case cannot be run in MCL before DSAC support is
//   added to current cellmo version and flagging is removed from NTSY codes.
//   If this test case is needed to be run anyway, flagging
//   'NCP_COMMON_CELLMO_BRANCH_SUPPORT == NCP_COMMON_CELLMO_BRANCH_0711' must be removed from
//   cmmpacketservicemesshandler.cpp and DSAC definition must be added to gpdsisi.h:
//   #define GPDS_TRANSFER_CAUSE_DSAC_RESTRICTION              	0x0B
//
// Script description:
//
// - This test case is created for SUB 417-1807: NokiaTSY: UI needed for DCM DSAC.
//   Test case simulates the situation, where packet data connection fails
//   because of barred PS network (Domain Specific Access Control)
//

[Test]
title MOD_0009.708_2_NokiaTSY_[XML GPDS transfer status indication, barred network]
create NTT_PDI test

test HandleSpecifiedRequests YES

test InitializeIPCRequestTable
test SetExpectedCompleteIPC EPacketNotifyStatusChange
// Parameters: test case number, packet status (1 = attached), resume info ( 0 = resumed)
test SetPdiReferenceParameters 708 1 0

test RunIscTestCase 129
test SyncIscTestCase

allownextresult -542113794
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.800_2_NokiaTSY_[XML Context Activation Fail Indication handling]
// Test case for error correction TVOI-7FHCFK Incorrect error mapping for
// certain PDP context rejection cause codes (cause codes #25 and #111).
//
// Precondition:
//
// Script description:
[Test]
title MOD_0009.800_2_NokiaTSY_[XML Context Activation Fail Indication handling]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged
test SetExpectedCompleteIPC EPacketContextNotifyConfigChanged

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 150
test SyncIscTestCase

// EPacketContextNotifyConfigChanged
// Cause 0x19 (25) receved in GPDS_CONTEXT_ACTIVATE_FAIL_IND
allownextresult -272105474
waittestclass test

// EPacketContextNotifyConfigChanged
// Cause 0x6F (111) receved in GPDS_CONTEXT_ACTIVATE_FAIL_IND
allownextresult -277741570
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.801_2_NokiaTSY_[XML GPRS Context activation with empty APN]
// GPRS Context activated with network assigned APN
//
// Precondition:
// - None
//
// Script description:
// - GPRS release 97/98 is set in context configuration and Nokia TSY sends
//   the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be GPRS and
//   the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and GPDS_APN_INFO subblock is omitted
[Test]
title MOD_0009.801_2_NokiaTSY_[XML GPRS Context activation with empty APN]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 124
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 GPRS PdpTypeIPv4 MOBILECONTEXTCONF RequesPCSCFAddr

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams GPRS True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput32000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 155
test SyncIscTestCase
test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.802_2_NokiaTSY_[XML R99_R4 Context activation with empty APN]
// Rell99Rel4 Context activated with network assigned APN
//
// Precondition:
// - None
//
// Script description:
// - Rell99Rel4 is set in context configuration and Nokia TSY sends
//   the message GPDS_CONTEXT_CONFIGURE_REQ. Parameter type must be R99_R4 and
//   the values of the parameters PDP Type and Context Type must be
//   GPDS_PDP_TYPE_IPV4 and GPDS_CONT_TYPE_NORMAL. After configuration context
//   is activated and GPDS_APN_INFO subblock is omitted
[Test]
title MOD_0009.802_2_NokiaTSY_[XML R99_R4 Context activation with empty APN]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetExpectedCompleteIPC EPacketAttach
test SetExpectedCompleteIPC EPacketNotifyContextAdded
test SetExpectedCompleteIPC EPacketContextInitialiseContext
test SetExpectedCompleteIPC EPacketContextSetConfig
test SetExpectedCompleteIPC EPacketSetDefaultContextParams
test SetExpectedCompleteIPC EPacketQoSSetProfileParams
test SetExpectedCompleteIPC EPacketContextActivate

test RunIscTestCase 102
test SyncIscTestCase
test PacketServiceAttach

// EPacketAttach
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 103
test SyncIscTestCase
test InitializePacketContext 100Int_13

// EPacketNotifyContextAdded
allownextresult 0
waittestclass test

// EPacketContextInitialiseContext
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 156
test SyncIscTestCase
test SetPacketContextConfiguration 100Int_13 R99_R4 PdpTypeIPv4 MOBILECONTEXTCONF RequesPCSCFAddr

// EPacketContextSetConfig
allownextresult 0
waittestclass test

test SetProfileQoSParams R99_R4 True 100Int_13 100Int_13 PdpTypeIPv4 StatusInactive DelayClass4 MeanThroughputBestEffort PeakThroughput32000 UnspecifiedPrecedence ReliabilityClass3 DelayClass4 MeanThroughput100 PeakThroughput32000 PriorityHighPrecedence ReliabilityClass1 x x x x x x

// EPacketSetDefaultContextParams
allownextresult 0
waittestclass test

// EPacketQoSSetProfileParams
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 155
test SyncIscTestCase
test ActivatePacketContext 100Int_13

// EPacketContextActivate
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]


// Test MOD_0009.803_2_NokiaTSY_[XML Dialup Context activation with empty APN]
// Dialup Context activated by AT modem
//
// Precondition:
// - None
//
// Script description:
// - AT modem CellMo component attaches to GPDS - NTSY receives GPDS_ATTACH_IND
// - AT modem CellMo component creates dialup context - NTSY receives
//   GPDS_CONTEXT_ID_CREATE_IND and marks this context as dialup
//   AT modem CellMo component activates context - NTSY receives
//   GPDS_CONTEXT_ACTIVATING_IND with GPDS_APN_INFO subblock omitted
//   NOTE: intermediate IPCs are not verified, because PDI testframework design
//   does not allow to do this effectively
[Test]
title MOD_0009.803_2_NokiaTSY_[XML Dialup Context activation with empty APN]
create NTT_PDI test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable

test SetContextNameForComparison External

test SetExpectedCompleteIPC EPacketContextActivate

test RunIscTestCase 157
test SyncIscTestCase

// EPacketContextActivate
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO

delete test
[Endtest]

