
//* Copyright (c) 2008 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  
//*



// MOD_0006.001_1_NokiaTSY_[HW CBS_Reception]
//
// Precondition: 
// - Phone is forced in to NTN 2G network (or other NW which
//   sends CBS messages. Commercial networks in Finland do not).
//
[Test]
// Manual test case.
title MOD_0006.001_1_NokiaTSY_[HW CBS_Reception]
create NTT_Cbs test

test ActivateCbsReception
waittestclass test

// note: receiving a CBS message in NTN can take 1-2 min.
test ReceiveCbs
waittestclass test

test DeactivateCbsReception
waittestclass test

delete test
[Endtest] 

// MOD_0006.004_1_NokiaTSY_[HW CBS_SIM_Topics_PrepareSIM]
//
// Prepares SIM for the CBS_SIM_Topics case below. 
// NOTE: All data in EF_CBMI will be overwritten!
// Sends a SIM_GSM_DIR_REQ.UPDATE_CB_MSGIDS and writes CBMI 
// entries "123" and "456".
// NOTE: Previous entries will be overwritten.
//
[Test]
title MOD_0006.004_1_NokiaTSY_[HW CBS_SIM_Topics_PrepareSIM]
create NTT_Cbs test
pause 1000
test RunIscTestCase 421
test SyncIscTestCase
pause 1000
delete test
[Endtest] 

// MOD_0006.005_1_NokiaTSY_[HW CBS_SIM_Topics]
//
// Manual test case.
// PRECONDITION: 
// SIM has a EF_CBMI file, with at least CBS topics "123" and another one saved.
// You can prepare this in two ways:
// 1. Connect phone and SIM, and run test case "CBS_SIM_Topics_PrepareSIM".
// 2. Using an S40 phone, choose "Menu/Messages/Info Messages/Info topics saved on SIM card/Add". If
// this menu is greyed out, the SIM does not support CBMI.
// After this, connect phone and SIM, and start the test case.
[Test]

title MOD_0006.005_1_NokiaTSY_[HW CBS_SIM_Topics]
create NTT_Cbs test

test ReadCBSSimTopics
waittestclass test

// deleting topic by its number (if it exists).
test DeleteCBSSimTopic 123
waittestclass test

test ReadCBSSimTopics
waittestclass test

delete test
[Endtest] 
