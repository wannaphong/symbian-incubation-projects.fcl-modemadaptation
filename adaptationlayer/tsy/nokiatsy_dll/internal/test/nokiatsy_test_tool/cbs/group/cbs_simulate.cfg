//* Copyright (c) 2008 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  
//*




//title MOD_0006.002_2_NokiaTSY_[XML CBS_Reception GSM]
//
// Precondition:
//   n/a, XML case

[Test]
title MOD_0006.002_2_NokiaTSY_[XML CBS_Reception_GSM]
create NTT_Cbs test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileBroadcastMessagingReceiveMessage
test SetExpectedCompleteIPC EMmTsyGsmBroadcastNotifyMessageReceived
test SetExpectedCompleteIPC EMobileBroadcastMessagingReceiveMessageCancel

// Activate CB reception
test RunIscTestCase 401
test SyncIscTestCase
test ActivateCbsReception
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Receive GSM CB message
test RunIscTestCase 410
test SyncIscTestCase
test ReceiveCbs
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Deactivate CB reception
test RunIscTestCase 402
test SyncIscTestCase
test DeactivateCbsReception
allownextresult 0
waittestclass test

test HandleSpecifiedRequests NO
delete test
[Endtest]


// MOD_0006.003_2_NokiaTSY_[XML CBS_Reception_UMTS]
//
// Precondition:
//   n/a, XML case
[Test]
title MOD_0006.003_2_NokiaTSY_[XML CBS_Reception_UMTS]
create NTT_Cbs test

test HandleSpecifiedRequests YES
test InitializeIPCRequestTable
test SetExpectedCompleteIPC EMobileBroadcastMessagingReceiveMessage
test SetExpectedCompleteIPC EMmTsyWcdmaBroadcastNotifyMessageReceived
test SetExpectedCompleteIPC EMobileBroadcastMessagingReceiveMessageCancel

// Activate CB reception
test RunIscTestCase 401
test SyncIscTestCase
test ActivateCbsReception
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Receive UMTS CB message
test RunIscTestCase 411
test SyncIscTestCase
// parameters: number of subblocks, number of pages, message type, message id,
// serial number, data coding scheme, info length
//( CB reference data is hard-coded in test files )
test ReceiveCbs 1 17 1 34 16384 0 33
allownextresult 0
waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// Deactivate CB reception
test RunIscTestCase 402
test SyncIscTestCase
test DeactivateCbsReception
allownextresult 0
waittestclass test

delete test
[Endtest]

// MOD_0006.006_2_NokiaTSY_[XML CBS_SIM_Topics]
//
// Precondition:
//   n/a, XML case
// NOTE! Make sure that the phone is not attached. Otherwise the test case crashes.
[Test]
title MOD_0006_006_2_NokiaTSY_[XML CBS_SIM_Topics]
create NTT_Cbs test

test RunIscTestCase 425
test SyncIscTestCase
test ReadCBSSimTopics

waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

// deleting topic by its number (if it exists).
test RunIscTestCase 427
test SyncIscTestCase
test DeleteCBSSimTopic 123

waittestclass test

// wait for ISC testcase completion signal
allownextresult 1
waittestclass test

test RunIscTestCase 426
test SyncIscTestCase
test ReadCBSSimTopics

waittestclass test

delete test
[Endtest]
