//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  

//
// Precondition: 
// - Detailed description can be found from Quality Center's Project: CoreSW_CASW/Module Tests/SIM ATK TSY/SimAtkTSY_testtool
//
// Script description:
//

// Proactive command //
///////////////////////

// InputDisplayOption (optional, default = 1, DisplayUserInput )
//  0 EInputDisplayOptionNotSet, Value used in constructor.
//  1 EDisplayUserInput
//  2 EHideUserInput

// RspFormat (optional, default = 3, ESmsDefaultAlphabetUnpacked )
//  0 EGetInputRspFormatNotSet, Value used in constructor
//  1 EDigitOnlyUnpacked
//  2 EDigitOnlyPacked
//  3 ESmsDefaultAlphabetUnpacked
//  4 ESmsDefaultAlphabetPacked
//  5 EUcs2Alphabet

// RspLength
//  0-255 MinRspLength
//  0-255 MaxRspLength
// Example: RspLength 0 10

// DefaultText (Optional, default = "")
//  Enter the text inside the quotes or as unicode hex digits. Example: Text "abc" or Text 61 62 63

// Text
//  Enter the text inside the quotes or as unicode hex digits. Example: Text "abc" or Text 61 62 63

// IconId (Optional, default = IconId 0 0)
//  IconQualifier
//      0 NotSet
//      1 NoIconId
//      2 SelfExplanatory
//      3 NotSelfExplanatory
//  IconIdentifier
//      Id number
//  Example SelfExplanatory ID 5: IconId 2 5

// Help (Optional, default = Help 2)
//  0 EHelpNotSet, Initialization value used within constructor(s).
//  1 Help information available to the user.
//  2 No help information is available to the user.

// Terminal Response //
///////////////////////

// GeneralResult (Optional, default = Command performed successfully)
//  General result of the proactive command.

// AdditionalInfo (Optional, default = "" )
//  Enter the text inside the quotes or as unicode hex digits. Example: Text "abc" or Text 61 62 63

// InfoType (Optional, default = No Additional info)
//  Set to TextString (0x0020) to return a string.  Some error values
//  of GeneralResult require additional information, in which case set
//  this to MeProblem (0x0002).  Otherwise set to NoAdditionalInfo (0x0001).

// RspFormat
//  See above

[Test]
title MOD_0004.001_SIM_ATK_TSY_[GET INPUT - normal]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml


// SEQ 1.1
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 101
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 5 5 Text "Enter 12345"
simatk SendTerminalResponse AdditionalInfo "12345" InfoType TextString RspFormat 1
simatk WaitForRequest

// SEQ 1.2
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 102
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 2 RspLength 5 5 Text "Enter 67*#+"
simatk SendTerminalResponse AdditionalInfo "67*#+" InfoType TextString RspFormat 4
simatk WaitForRequest

// SEQ 1.3
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 103
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 3 RspLength 5 5 Text "Enter AbCdE"
simatk SendTerminalResponse AdditionalInfo "AbCdE" InfoType TextString RspFormat 3
simatk WaitForRequest

// SEQ 1.4
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 104
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 2 RspFormat 1 RspLength 4 8 Text "Password 1<SEND>2345678"
simatk SendTerminalResponse AdditionalInfo "2345678" InfoType TextString RspFormat 3
simatk WaitForRequest

// SEQ 1.5
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 105
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 1 20 Text "Enter 1..9,0..9,0(1)"
simatk SendTerminalResponse AdditionalInfo "12345678901234567890" InfoType TextString RspFormat 3
simatk WaitForRequest

// SEQ 1.6
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 106
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 0 8 Text "<GO-BACKWARDS>"
simatk SendTerminalResponse GeneralResult BackwardModeRequestedByUser
simatk WaitForRequest

// SEQ 1.7
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 107
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 0 8 Text "<ABORT>"
simatk SendTerminalResponse GeneralResult SessionTerminatedByUser
simatk WaitForRequest

// SEQ 1.8
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 108
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 160 160 Text "***1111111111###***2222222222###***3333333333###***4444444444###***5555555555###***6666666666###***7777777777###***8888888888###***9999999999###***0000000000###"
simatk SendTerminalResponse InfoType TextString RspFormat 3 AdditionalInfo "***1111111111###***2222222222###***3333333333###***4444444444###***5555555555###***6666666666###***7777777777###***8888888888###***9999999999###***0000000000###"
simatk WaitForRequest

// SEQ 1.9
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 109
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 0 1 Text "<SEND>"
simatk SendTerminalResponse InfoType NoAdditionalInfo
simatk WaitForRequest

// SEQ 1.10
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 110
waittestclass notify
simatk CheckProactiveCommand InputDisplayOption 1 RspFormat 1 RspLength 1 5 Text ""
simatk SendTerminalResponse InfoType TextString AdditionalInfo "12345" RspFormat 3
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

[Test]
title MOD_0004.002_SIM_ATK_TSY_[GET INPUT - no response from user]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml


// SEQ 2.1
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 201
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<TIME-OUT>"
simatk SendTerminalResponse GeneralResult NoResponseFromUser
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

[Test]
title MOD_0004.003_SIM_ATK_TSY_[GET INPUT - UCS2 format display]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml

// SEQ 3.1
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 301
waittestclass notify
// Text in hex: "Hello" in Russia
simatk CheckProactiveCommand RspLength 5 5 Text 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415
simatk SendTerminalResponse InfoType TextString AdditionalInfo "HELLO"
simatk WaitForRequest

// SEQ 3.2
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 302
waittestclass notify
// Text in hex: "Hello" in Russia 6 times
simatk CheckProactiveCommand RspLength 5 5 Text 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419
simatk SendTerminalResponse InfoType TextString AdditionalInfo "HELLO"
simatk WaitForRequest
// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

[Test]
title MOD_0004.004_SIM_ATK_TSY_[GET INPUT - UCS2 format of entry]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml

// SEQ 4.1
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 401
waittestclass notify
simatk CheckProactiveCommand RspFormat 5 RspLength 12 12 Text "Enter Hello"
simatk SendTerminalResponse InfoType TextString AdditionalInfo 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415
simatk WaitForRequest

// SEQ 4.2
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 402
waittestclass notify
simatk CheckProactiveCommand RspFormat 5 RspLength 5 255 Text "Enter Hello"
simatk SendTerminalResponse InfoType TextString AdditionalInfo 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419 0422 0415 0417 0414 0420 0410 0412 0421 0422 0412 0423 0419
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

[Test]
title MOD_0004.005_SIM_ATK_TSY_[GET INPUT - default text]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml

// SEQ 5.1
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 501
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 5 5 Text "Enter 12345" DefaultText "12345"
simatk SendTerminalResponse InfoType TextString AdditionalInfo "12345"
simatk WaitForRequest

// SEQ 5.2
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 502
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 160 160 Text "Enter:" DefaultText "***1111111111###***2222222222###***3333333333###***4444444444###***5555555555###***6666666666###***7777777777###***8888888888###***9999999999###***0000000000###"
simatk SendTerminalResponse InfoType TextString AdditionalInfo "***1111111111###***2222222222###***3333333333###***4444444444###***5555555555###***6666666666###***7777777777###***8888888888###***9999999999###***0000000000###"
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

[Test]
title MOD_0004.006_SIM_ATK_TSY_[GET INPUT - display of icon]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml

// SEQ 6.1a
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6011
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<NO-ICON>" IconId 2 1
simatk SendTerminalResponse InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.1b
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6012
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<NO-ICON>" IconId 2 1
simatk SendTerminalResponse GeneralResult SuccessRequestedIconNotDisplayed InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.2a
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6021
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<BASIC-ICON>" IconId 3 1
simatk SendTerminalResponse InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.2b
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6022
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<BASIC-ICON>" IconId 3 1
simatk SendTerminalResponse GeneralResult SuccessRequestedIconNotDisplayed InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.3a
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6031
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<NO-ICON>" IconId 2 2
simatk SendTerminalResponse InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.3b
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6032
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<NO-ICON>" IconId 2 2
simatk SendTerminalResponse GeneralResult SuccessRequestedIconNotDisplayed InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.4a
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6041
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<COLOUR-ICON>" IconId 3 2
simatk SendTerminalResponse InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// SEQ 6.4b
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 6042
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 0 10 Text "<COLOUR-ICON>" IconId 3 2
simatk SendTerminalResponse GeneralResult SuccessRequestedIconNotDisplayed InfoType TextString AdditionalInfo "+"
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

[Test]
title MOD_0004.007_SIM_ATK_TSY_[GET INPUT - help information]

create SimAtk simatk
create SimAtkNotify notify

// connecting to ETel server
simatk Connect RTelServer
// Load TSY module
simatk Load PhoneTsy.tsy
// open phone module
simatk Open DefaultPhone
// Open SAT API
simatk Open SAT

// Open ISC Test control
simatk Open IscControl
// Load ISC XML -file
simatk LoadIscTests SimAtk_GetInput.xml

// SEQ 7.1
notify UseObjectAddress simatk ESatNotifyGetInputPCmd
simatk RunIscTestCase 4 701
waittestclass notify
simatk CheckProactiveCommand RspFormat 1 RspLength 5 5 Text "Enter 12345" Help 1
simatk SendTerminalResponse GeneralResult HelpRequestedByUser
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]

