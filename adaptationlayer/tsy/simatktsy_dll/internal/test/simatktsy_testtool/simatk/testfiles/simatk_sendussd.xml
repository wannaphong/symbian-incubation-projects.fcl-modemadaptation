<?xml version="1.0" encoding="utf-8"?> 

<!--
MOD_0013.001_SIM_ATK_TSY_[SEND USSD - normal] 
MOD_0013.002_SIM_ATK_TSY_[SEND USSD - icon support]
MOD_0013.003_SIM_ATK_TSY_[SEND USSD - UCS2 support]
-->


<isc-test-control id="13">


<!-- ******** -->
<!-- CHANNELS -->
<!-- ******** -->
<channels>
	<channel id="0x07"/>
</channels>


<!-- ****** -->
<!-- INPUTS -->
<!-- ****** -->
<inputs>


<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->

<!-- 27.22.4.12.1 SEND USSD (normal) -->
    <input id="10101">
        <name>PROACTIVE COMMAND: SEND USSD 1.1.1, 1.4.1, 1.5.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,54,D0,50,81,03,01,12,00,82,02,81,83,85,0A,37,2D,62,69,74,20,55,53,53,44,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,90,00</message>
    </input>

    <input id="10102">
        <name>PROACTIVE COMMAND: SEND USSD 1.2.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,5c,D0,58,81,03,01,12,00,82,02,81,83,85,0A,38,2D,62,69,74,20,55,53,53,44,8A,41,44,41,42,43,44,45,46,47,48,49,4A,4B,4C,4D,4E,4F,50,51,52,53,54,55,56,57,58,59,5A,2D,61,62,63,64,65,66,67,68,69,6A,6B,6C,6D,6E,6F,70,71,72,73,74,75,76,77,78,79,7A,2D,31,32,33,34,35,36,37,38,39,30,90,00</message>
    </input>

    <input id="10103">
        <name>PROACTIVE COMMAND: SEND USSD 1.3.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,33,D0,2F,81,03,01,12,00,82,02,81,83,85,09,55,43,53,32,20,55,53,53,44,8A,19,48,04,17,04,14,04,20,04,10,04,12,04,21,04,22,04,12,04,23,04,19,04,22,04,15,90,00</message>
    </input>

    <input id="10104">
        <name>PROACTIVE COMMAND: SEND USSD 1.6.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,01,02,D0,81,FD,81,03,01,12,00,82,02,81,83,85,81,B6,6F,6E,63,65,20,61,20,52,45,4C,45,41,53,45,20,43,4F,4D,50,4C,45,54,45,20,6D,65,73,73,61,67,65,20,63,6F,6E,74,61,69,6E,69,6E,67,20,74,68,65,20,55,53,53,44,20,52,65,74,75,72,6E,20,52,65,73,75,6C,74,20,6D,65,73,73,61,67,65,20,6E,6F,74,20,63,6F,6E,74,61,69,6E,69,6E,67,20,61,6E,20,65,72,72,6F,72,20,68,61,73,20,62,65,65,6E,20,72,65,63,65,69,76,65,64,20,66,72,6F,6D,20,74,68,65,20,6E,65,74,77,6F,72,6B,2C,20,74,68,65,20,4D,45,20,73,68,61,6C,6C,20,69,6E,66,6F,72,6D,20,74,68,65,20,53,49,4D,20,74,68,61,74,20,74,68,65,20,63,6F,6D,6D,61,6E,64,20,68,61,73,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,90,00</message>
    </input>

    <input id="10105">
        <name>PROACTIVE COMMAND: SEND USSD 1.7.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,48,D0,44,81,03,01,12,00,82,02,81,83,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,90,00</message>
    </input>

    <input id="10106">
        <name>PROACTIVE COMMAND: SEND USSD 1.8.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,4A,D0,46,81,03,01,12,00,82,02,81,83,85,00,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,90,00</message>
    </input>
    
<!-- 27.22.4.12.2 SEND USSD (Icon support) -->
    <input id="10201">
        <name>PROACTIVE COMMAND: SEND USSD 2.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,58,D0,54,81,03,01,12,00,82,02,81,83,85,0A,42,61,73,69,63,20,49,63,6F,6E,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,9E,02,00,01,90,00</message>
    </input>

    <input id="10202">
        <name>PROACTIVE COMMAND: SEND USSD 2.2.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,58,D0,54,81,03,01,12,00,82,02,81,83,85,0A,43,6F,6C,6F,72,20,49,63,6F,6E,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,9E,02,00,02,90,00</message>
    </input>

    <input id="10203">
        <name>PROACTIVE COMMAND: SEND USSD 2.3.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,58,D0,54,81,03,01,12,00,82,02,81,83,85,0A,42,61,73,69,63,20,49,63,6F,6E,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,9E,02,01,01,90,00</message>
    </input>

    <input id="10204">
        <name>PROACTIVE COMMAND: SEND USSD 2.4.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,4C,D0,48,81,03,01,12,00,82,02,81,83,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,9E,02,01,01,90,00</message>
    </input>

<!-- 27.22.4.12.3 SEND USSD (UCS2 support) -->
    <input id="10301">
        <name>PROACTIVE COMMAND: SEND USSD 3.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,63,D0,5F,81,03,01,12,00,82,02,81,83,85,19,80,04,17,04,14,04,20,04,10,04,12,04,21,04,22,04,12,04,23,04,19,04,22,04,15,8A,39,F0,41,E1,90,58,34,1E,91,49,E5,92,D9,74,3E,A1,51,E9,94,5A,B5,5E,B1,59,6D,2B,2C,1E,93,CB,E6,33,3A,AD,5E,B3,DB,EE,37,3C,2E,9F,D3,EB,F6,3B,3E,AF,6F,C5,64,33,5A,CD,76,C3,E5,60,90,00</message>
    </input>

<!-- SIM SESSION END -->
<!-- *************** -->
    <input id="90004">
        <name>SIM Session End</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,78,34,00,13,00,00,90,00,00,00</message>
        <!-- Transaction Id's (9:th byte) must match with Terminal responses transaction id -->
    </input>

</inputs>


<!-- ******* -->
<!-- OUTPUTS -->
<!-- ******* -->
<outputs>
    
<!-- TERMINAL RESPONSES -->
<!-- ****************** -->

<!-- 27.22.4.12.1 SEND USSD (normal) -->
    <output id="40101">
        <name>TERMINAL RESPONSE: SEND USSD 1.1.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,32,00,08,00,11,00,00,00,28,81,03,01,12,00,82,02,82,81,83,01,00,8D,1A,00,D5,E9,94,08,9A,D3,E5,69,F7,19,24,2F,8F,CB,69,7B,99,0C,32,CB,DF,6D,D0,74,0A,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="40102">
        <name>TERMINAL RESPONSE: SEND USSD 1.2.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,36,00,08,00,11,00,00,00,2B,81,03,01,12,00,82,02,82,81,83,01,00,8D,1D,04,55,53,53,44,20,73,74,72,69,6E,67,20,72,65,63,65,69,76,65,64,20,66,72,6F,6D,20,53,53,00,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="40103">
        <name>TERMINAL RESPONSE: SEND USSD 1.3.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,52,00,08,00,11,00,00,00,47,81,03,01,12,00,82,02,82,81,83,01,00,8D,39,08,00,55,00,53,00,53,00,44,00,20,00,73,00,74,00,72,00,69,00,6E,00,67,00,20,00,72,00,65,00,63,00,65,00,69,00,76,00,65,00,64,00,20,00,66,00,72,00,6F,00,6D,00,20,00,53,00,53,00,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="40104">
        <name>TERMINAL RESPONSE: SEND USSD 1.4.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0D,81,03,01,12,00,82,02,82,81,83,02,37,47,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="40105">
        <name>TERMINAL RESPONSE: SEND USSD 1.5.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0D,81,03,01,12,00,82,02,82,81,83,02,37,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

<!-- 27.22.4.12.2 SEND USSD (Icon support) -->
    <output id="40201">
        <name>TERMINAL RESPONSE: SEND USSD 2.1.1A.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,32,00,08,00,11,00,00,00,28,81,03,01,12,00,82,02,82,81,83,01,00,8D,1A,00,D5,E9,94,08,9A,D3,E5,69,F7,19,24,2F,8F,CB,69,7B,99,0C,32,CB,DF,6D,D0,74,0A,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="40202">
        <name>TERMINAL RESPONSE: SEND USSD 2.1.1B.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,32,00,08,00,11,00,00,00,28,81,03,01,12,00,82,02,82,81,83,01,04,8D,1A,00,D5,E9,94,08,9A,D3,E5,69,F7,19,24,2F,8F,CB,69,7B,99,0C,32,CB,DF,6D,D0,74,0A,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="40204">
        <name>TERMINAL RESPONSE: SEND USSD 2.4.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0C,81,03,01,12,00,82,02,82,81,83,01,32,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

<!-- 27.22.4.12.3 SEND USSD (UCS2 support) -->
    <output id="40301">
        <name>TERMINAL RESPONSE: SEND USSD 3.1.1.</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,32,00,08,00,11,00,00,00,28,81,03,01,12,00,82,02,82,81,83,01,00,8D,1A,00,D5,E9,94,08,9A,D3,E5,69,F7,19,24,2F,8F,CB,69,7B,99,0C,32,CB,DF,6D,D0,74,0A,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

</outputs>


<!-- ********** -->
<!-- TEST STEPS -->
<!-- ********** -->
<steps>


<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->

<!-- 27.22.4.12.1 SEND USSD (normal) -->
    <step id="10101" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10101"/>
    </step>

    <step id="10102" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10102"/>
    </step>

    <step id="10103" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10103"/>
    </step>

    <step id="10104" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10104"/>
    </step>

    <step id="10105" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10105"/>
    </step>

    <step id="10106" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10106"/>
    </step>

<!-- 27.22.4.12.2 SEND USSD (Icon support) -->
    <step id="10201" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10201"/>
    </step>

    <step id="10202" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10202"/>
    </step>

    <step id="10203" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10203"/>
    </step>

    <step id="10204" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10204"/>
    </step>

<!-- 27.22.4.12.3 SEND USSD (UCS2 support) -->
    <step id="10301" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10301"/>
    </step>

<!-- TERMINAL RESPONSES -->
<!-- ****************** -->

<!-- 27.22.4.12.1 SEND USSD (normal) -->
    <step id="40101" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40101"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40102" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40102"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40103" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40103"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40104" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40104"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40105" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40105"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

<!-- 27.22.4.12.2 SEND USSD (Icon support) -->
    <step id="40201" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40201"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40202" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40202"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40204" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40204"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

<!-- 27.22.4.12.3 SEND USSD (UCS2 support) -->
    <step id="40301" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40301"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

<!-- GENERAL STEPS -->
<!-- ************* -->

    <step id="90001" type="sync">
        <name>Sync with test env</name>
    </step>

    <step id="90002" type="open-channel">
        <name>Attach to channel 7</name>
        <channel id="0x07"/>
    </step>

    <step id="90003" type="close-channel">
        <name>Detach from channel 7</name>
        <channel id="0x07"/>
    </step>

    <step id="90004" type="simulate">
        <name>SIM session end</name>
        <channel id="0x07"/>
        <input-ref id="90004"/>
        <flags>0x40</flags>  <!-- Use stored transaction ID in simulated message -->        
    </step>

</steps>


<!-- ********** -->
<!-- TEST CASES -->
<!-- ********** -->
<cases>

<!-- 27.22.4.12.1 SEND USSD (normal) -->
    <case id="101">
        <name>Sequence 1.1 (SEND USSD, 7-bit data, successful)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10101"/> <!-- Send PCMD  -->
            <step-ref id="40101"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="102">
        <name>Sequence 1.2 (SEND USSD, 8-bit data, successful)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10102"/> <!-- Send PCMD  -->
            <step-ref id="40102"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="103">
        <name>Sequence 1.3 (SEND USSD, UCS2 data, successful)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10103"/> <!-- Send PCMD  -->
            <step-ref id="40103"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="104">
        <name>Sequence 1.4 (SEND USSD, 7-bit data, unsuccessful (Return Error))</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10101"/> <!-- Send PCMD  -->
            <step-ref id="40104"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="105">
        <name>Sequence 1.5 (SEND USSD, 7-bit data, unsuccessful (Reject))</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10101"/> <!-- Send PCMD  -->
            <step-ref id="40105"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="106">
        <name>Sequence 1.6 (SEND USSD, 256 octets, 7-bit data, successful, long alpha identifier)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10104"/> <!-- Send PCMD  -->
            <step-ref id="40101"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="107">
        <name>Sequence 1.7 (SEND USSD, 7-bit data, successful, no alpha identifier)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10105"/> <!-- Send PCMD  -->
            <step-ref id="40101"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="108">
        <name>Sequence 1.8 (SEND USSD, 7-bit data, successful, null length alpha identifier)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10106"/> <!-- Send PCMD  -->
            <step-ref id="40101"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

<!-- 27.22.4.12.2   SEND USSD (Icon support) -->
    <case id="2011">
        <name>Sequence 2.1A (SEND USSD, 7-bit data, successful, basic icon self explanatory, successful)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Send PCMD  -->
            <step-ref id="40201"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="2012">
        <name>Sequence 2.1B (SEND USSD, 7-bit data, successful, basic icon self explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Send PCMD  -->
            <step-ref id="40202"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="2021">
        <name>Sequence 2.2 (SEND USSD, 7-bit data, successful, colour icon self explanatory)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10202"/> <!-- Send PCMD  -->
            <step-ref id="40201"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="2022">
        <name>Sequence 2.2 (SEND USSD, 7-bit data, successful, colour icon self explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10202"/> <!-- Send PCMD  -->
            <step-ref id="40202"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="2031">
        <name>Sequence 2.3A (SEND USSD, 7-bit data, successful, basic icon non self-explanatory, successful)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10203"/> <!-- Send PCMD  -->
            <step-ref id="40201"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="2032">
        <name>Sequence 2.3B (SEND USSD, 7-bit data, successful, basic icon non self-explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10203"/> <!-- Send PCMD  -->
            <step-ref id="40202"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

    <case id="204">
        <name>Sequence 2.4 (SEND USSD, 7-bit data, basic icon non self-explanatory, no alpha identifier presented)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10204"/> <!-- Send PCMD  -->
            <step-ref id="40204"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

<!-- 27.22.4.12.3   SEND USSD (UCS2 support) -->
    <case id="301">
        <name>Sequence 3.1 (SEND USSD, 7-bit data, successful, UCS2 text)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10301"/> <!-- Send PCMD  -->
            <step-ref id="40301"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
        </test-steps>
    </case>

</cases>

</isc-test-control>
