<?xml version="1.0" encoding="utf-8"?> 


<isc-test-control id="31"> 


<!-- MOD_0031.001_SIM_ATK_TSY_[CALL CONTROL BY SIM - Procedure for Mobile Originated calls] -->
<!-- MOD_0031.002_SIM_ATK_TSY_[CALL CONTROL BY SIM - Procedure for Supplementary (SS) Services] -->
<!-- MOD_0031.003_SIM_ATK_TSY_[CALL CONTROL BY SIM - Interaction with Fixed Dialling Number (FDN)] -->


<!-- ******** -->
<!-- CHANNELS -->
<!-- ******** -->
<channels>
    <channel id="0x07"/>
</channels>


<!-- ****** -->
<!-- INPUTS -->
<!-- ****** -->
<inputs>

<!-- INITIALIZATION MESSAGES -->
<!-- *********************** -->
    <input id="00001">
        <name>NET_CELL_INFO_IND: NET_WCDMA_CELL_INFO; CellId 1, LAC 1,</name>
        <direction>sos</direction>
        <message>00,00,00,C8,00,1A,20,01,00,42,00,01,47,14,00,01,00,00,00,01,00,00,00,01,00,F1,10,00,00,00,00,00</message>
    </input>

    <input id="00002">
        <name>SIM_READ_TABLE_RESP, SIM_ST_USSD_IN_CALL_CONTROL_AVAIL</name>
        <direction>sos</direction>
        <message>00,00,00,09,00,00,78,34,aa,14,28,01,00,00</message>
    </input>

    <input id="00003">
        <name>SIM_READ_TABLE_RESP, SIM_ST_CALL_CONTROL_AVAIL</name>
        <direction>sos</direction>
        <message>00,00,00,09,06,00,78,34,aa,14,74,01,00,00</message>
    </input>

    <input id="00004">
        <name>CALL_MODEM_RESOURCE_CONF_IND; CALL_MODEM_RES_CONF_STARTUP</name>
        <direction>sos</direction>
        <message>00,00,00,c9,00,00,00,00,00,46,01,02,41,04,00,01,43,04,00,01</message>
    </input>
    
    <input id="00005">
        <name>CALL_MODEM_RESOURCE_CONF_RESP; CALL_MODEM_RES_CONF_SET</name>
        <direction>sos</direction>
        <message>00,00,00,c9,00,00,00,00,00,45,02,01,41,04,00,01</message>
    </input>
    
    <input id="00006">
        <name>SS_RESOURCE_CONF_IND; SS_RESOURCE_CONF_READY</name>
        <direction>sos</direction>
        <message>00,00,00,06,00,00,00,00,00,24,01,02,41,04,00,01,48,04,00,01</message>
    </input>
    
    <input id="00007">
        <name>SS_RESOURCE_CONF_RESP; SS_RESOURCE_CONF_SET</name>
        <direction>sos</direction>
        <message>00,00,00,06,00,00,00,00,00,26,02,01,41,04,00,01</message>
    </input>

<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->
    <input id="10103">
        <name>PROACTIVE COMMAND: SET UP CALL 1.3.1, 1.5.1, 1.7.1 (012340123456)</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,25,D0,21,81,03,01,10,00,82,02,81,83,05,0D,2B,30,31,32,33,34,30,31,32,33,34,35,36,86,07,91,10,32,04,21,43,65,90,00</message>
    </input>

<!-- CALL CONTROL REQs -->
<!-- ***************** -->
    <input id="10201">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_INTERNATIONAL, 01234567890123456789</name>
        <direction>sos</direction>
        <message>00,00,00,c9,00,00,00,33,00,40,01,06,41,04,00,01,44,04,01,00,4b,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,30,11,00,00,14,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,37,00,38,00,39,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,37,00,38,00,39,00,00</message>
    </input>

    <input id="10203">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_INTERNATIONAL, 012340123456</name>
        <direction>sos</direction>
        <message>00,00,00,c9,00,00,20,33,00,40,01,06,41,04,00,01,44,04,01,00,4b,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,20,11,00,00,0c,00,30,00,31,00,32,00,33,00,34,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,00</message>
    </input>

    <input id="10210">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_MODE_EMERGENCY, 112</name>
        <direction>sos</direction>
        <message>00,00,00,c9,2e,00,00,32,00,40,01,06,41,04,00,01,44,04,00,00,4b,04,01,00,07,04,00,00,03,0c,01,00,00,03,00,31,00,31,00,32,ba,0c,07,60,08,04,02,00,05,81,00,00</message>
    </input>

    <input id="20201">
        <name>SS_RESOURCE_CONTROL_IND, *21**10#</name>
        <direction>sos</direction>
        <message>00,00,10,06,00,1a,20,01,00,21,00,03,41,04,00,01,42,04,00,00,44,0c,08,2a,32,31,2a,2a,31,30,23,00</message>
    </input>

    <input id="20203">
        <name>SS_RESOURCE_CONTROL_IND, *21#</name>
        <direction>sos</direction>
        <message>00,00,10,06,00,16,20,01,00,21,00,03,41,04,00,01,42,04,00,00,44,08,04,2a,32,31,23,00</message>
    </input>


    <input id="30202">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_UNKNOWN, 123</name>
        <direction>sos</direction>
        <message>00,00,10,c9,00,2a,20,01,00,40,01,06,41,04,00,01,44,04,01,00,4b,04,00,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,0c,01,00,00,03,00,31,00,32,00,33</message>
    </input>

    <input id="30203">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_UNKNOWN, 9876</name>
        <direction>sos</direction>
        <message>00,00,10,c9,00,2e,20,01,00,40,01,06,41,04,00,01,44,04,01,00,4b,04,00,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,10,01,00,00,04,00,39,00,38,00,37,00,36,00,00</message>
    </input>

<!-- RESOURCE CONTROL RESPs -->
<!-- ********************** -->
    <input id="10401">
        <name>CALL_MODEM_RESOURCE_RESP, OK</name>
        <direction>sos</direction>
        <message>00,00,10,c9,00,0a,00,01,00,42,01,01,44,04,01,00</message>
    </input>

    <input id="10402">
        <name>SS_RESOURCE_CONTROL_RESP, OK</name>
        <direction>sos</direction>
        <message>00,00,10,01,00,00,0b,01,00,29,01,01,03,0c,00,00,00,03,00,31,00,31,00,32</message>
    </input>

<!-- ENVELOPE RESPs -->
<!-- ************** -->
    <input id="11001">
        <name>ATK_SW_DATA_NTF: 90 00</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,00</message>
    </input>

    <input id="11002">
        <name>CALL CONTROL RESULT 1.2.1, 1.3.1, 2.2.1, 3.3.1 (allowed)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,02,00,00</message>
    </input>

    <input id="11004">
        <name>CALL CONTROL RESULT 1.4.1, 1.5.1, 2.3.1, 3.4.1 (not allowed)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,02,01,00</message>
    </input>

    <input id="11006">
        <name>CALL CONTROL RESULT 1.6.1 (modified to 010203)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,08,02,06,86,04,91,10,20,30</message>
    </input>

    <input id="11007">
        <name>CALL CONTROL RESULT 1.7.1 (modified to 011111111111)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,0B,02,09,86,07,91,10,11,11,11,11,11</message>
    </input>

    <input id="11008">
        <name>CALL CONTROL RESULT 1.8.1 (modified to 112)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,07,02,05,86,03,81,11,F2</message>
    </input>

    <input id="11009">
        <name>CALL CONTROL RESULT 1.9.1 (modified to 1020)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,07,02,05,86,03,81,01,02</message>
    </input>

    <input id="21004">
        <name>CALL CONTROL RESPONSE 2.4.1 (modified to *#21#)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,08,02,06,89,04,FF,BA,12,FB</message>
    </input>

    <input id="31005">
        <name>CALL CONTROL RESPONSE 3.5.1 (modified to 3333)</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,00,00,00,13,00,00,90,00,00,07,02,05,86,03,81,33,33</message>
    </input>

</inputs>


<!-- ******* -->
<!-- OUTPUTS -->
<!-- ******* -->
<outputs>

<!-- CALL CONTROL ACTIVATION -->
<!-- *********************** -->
    <output id="00010">
        <name>CALL_MODEM_RESOURCE_CONF_REQ, CALL_MODEM_RES_CONF_SET</name>
        <direction>dos</direction>
        <message>00,00,00,c9,00,00,00,00,00,44,02,01,42,08,00,03,00,03,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="00011">
        <name>SS_RESOURCE_CONF_REQ, SS_RESOURCE_CONF_SET</name>
        <direction>dos</direction>
        <message>00,00,00,06,00,00,00,00,00,25,02,01,49,08,00,01,00,01,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

<!-- CALL CONTROL ENVELOPES -->
<!-- ********************** -->
    <output id="10901">
        <name>ENVELOPE CALL CONTROL 1.1.1A, 1.2.1A, 1.4.1A, 1.6.1A, 1.8.1A (01234567890123456789)</name>
        <direction>dos</direction>
        <message>00,00,00,5A,00,2A,00,00,C9,12,00,24,D4,22,82,02,82,81,86,0B,91,10,32,54,76,98,10,32,54,76,98,07,06,05,20,04,02,00,85,13,07,00,F1,10,00,01,00,01</message>
           <mask>00,00,00,FF,00,FF,00,00,00,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="10903">
        <name>ENVELOPE CALL CONTROL 1.3.1A, 1.5.1A (012340123456)</name>
        <direction>dos</direction>
        <message>00,00,00,5A,00,26,00,00,C9,12,00,20,D4,1E,02,02,82,81,06,07,91,10,32,04,21,43,65,07,06,05,20,04,02,00,85,13,07,00,F1,10,00,01,00,01</message>
           <mask>00,00,00,FF,00,FF,00,00,00,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="20901">
        <name>ENVELOPE CALL CONTROL 2.1.1A 2.2.1A</name>
        <direction>dos</direction>
        <message>00,00,00,5A,00,1E,00,00,C9,12,00,16,D4,14,82,02,82,81,89,05,FF,2A,A1,1A,B0,13,07,00,F1,10,00,01,00,01,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,00,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="20903">
        <name>ENVELOPE CALL CONTROL 2.3.1A, 2.4.1A</name>
        <direction>dos</direction>
        <message>00,00,00,5A,00,1A,00,00,C9,12,00,14,D4,12,82,02,82,81,89,03,FF,2A,B1,13,07,00,F1,10,00,01,00,01</message>
           <mask>00,00,00,FF,00,FF,00,00,00,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="30902">
        <name>ENVELOPE CALL CONTROL 3.2.1A</name>
        <direction>dos</direction>
        <message>00,00,00,5A,00,22,00,00,C9,12,00,1C,D4,1A,82,02,82,81,86,03,81,21,F3,07,06,05,20,04,02,00,85,13,07,00,F1,10,00,01,00,01</message>
           <mask>00,00,00,FF,00,FF,00,00,00,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="30903">
        <name>ENVELOPE CALL CONTROL 3.3.1A, 3.4.1A</name>
        <direction>dos</direction>
        <message>00,00,00,5A,00,22,00,00,C9,12,00,1C,D4,1A,82,02,82,81,86,03,81,89,67,07,06,05,20,04,02,00,85,13,07,00,F1,10,00,01,00,01</message>
           <mask>00,00,00,FF,00,FF,00,00,00,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

<!-- CALL CONTROL RESPs -->
<!-- ****************** -->
    <output id="11101">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, 01234567890123456789</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,1e,33,5a,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,30,11,00,00,14,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,37,00,38,00,39,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,37,00,38,00,39,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11103">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, 012340123456</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,1e,33,5a,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,20,11,00,00,0c,00,30,00,31,00,32,00,33,00,34,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11104">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_DENIED, 01234567890123456789</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,22,00,01,00,41,01,07,41,04,00,01,44,04,01,00,45,04,02,00,08,04,01,11,07,04,01,00,ba,08,05,20,04,02,00,85,03,30,11,00,00,14,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,37,00,38,00,39,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,37,00,38,00,39,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11105">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_DENIED, 012340123456</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,22,00,01,00,41,01,07,41,04,00,01,44,04,01,00,45,04,02,00,08,04,01,11,07,04,01,00,ba,08,05,20,04,02,00,85,03,20,11,00,00,0c,00,30,00,31,00,32,00,33,00,34,00,30,00,31,00,32,00,33,00,34,00,35,00,36,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11106">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 010203</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,32,33,5a,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,14,11,00,00,06,00,30,00,31,00,30,00,32,00,30,00,33,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11107">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 011111111111</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,3e,33,5a,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,20,11,00,00,0c,00,30,00,31,00,31,00,31,00,31,00,31,00,31,00,31,00,31,00,31,00,31,00,31,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11108">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 112</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,2a,33,5a,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,0c,01,00,00,03,00,31,00,31,00,32</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11109">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 1020</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,2e,33,5a,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,10,01,00,00,04,00,31,00,30,00,32,00,30,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="11110">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, 112</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,2e,33,5a,00,41,01,06,41,04,00,01,44,04,00,00,45,04,01,00,07,04,00,00,ba,0c,07,60,08,04,02,00,05,81,00,00,03,0c,01,00,00,03,00,31,00,31,00,32</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="21101">
        <name>SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED</name>
        <direction>dos</direction>
        <message>00,00,10,06,00,12,00,01,00,22,00,03,41,04,00,01,42,04,00,00,43,04,01,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="21103">
        <name>SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_DENIED</name>
        <direction>dos</direction>
        <message>00,00,10,06,00,12,00,01,00,22,00,03,41,04,00,01,42,04,00,00,43,04,02,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="21104">
        <name>SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED, modified to *#21#</name>
        <direction>dos</direction>
        <message>00,00,10,06,00,1a,00,01,00,22,00,04,41,04,00,01,42,04,00,00,43,04,01,00,44,08,05,2a,23,32,31,23</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="31105">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 3333</name>
        <direction>dos</direction>
        <message>00,00,10,c9,00,2e,00,01,00,41,01,06,41,04,00,01,44,04,01,00,45,04,01,00,07,04,01,00,ba,08,05,20,04,02,00,85,03,10,01,00,00,04,00,33,00,33,00,33,00,33,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

<!-- TERMINAL RESPONSES -->
<!-- ******************* -->
    <output id="11203">
        <name>TERMINAL RESPONSE: SET UP CALL 1.3.1, 1.7.1</name>
        <direction>dos</direction>
        <message>00,00,10,5A,00,00,00,08,00,11,00,00,00,0C,81,03,01,10,00,82,02,82,81,83,01,00,00,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="11205">
        <name>TERMINAL RESPONSE: SET UP CALL 1.5.1</name>
        <direction>dos</direction>
        <message>00,00,10,5A,00,00,00,08,00,11,00,00,00,0D,81,03,01,10,00,82,02,82,81,83,02,39,01,00</message>
           <mask>00,00,00,FF,00,00,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

</outputs>


<!-- ********** -->
<!-- TEST STEPS -->
<!-- ********** -->
<steps>


<!-- ******* -->
<!-- INPUTS -->
<!-- ****** -->

<!-- INITIALIZATION MESSAGES -->
<!-- *********************** -->
    <step id="00001" type="simulate">
        <name>Simulate NET_CELL_INFO_IND, GCF settings</name>
        <channel id="0x07"/>
        <input-ref id="00001"/>
    </step>

    <step id="00002" type="simulate">
        <name>SIM_READ_TABLE_RESP, SIM_ST_USSD_IN_CALL_CONTROL_AVAIL</name>
        <channel id="0x07"/>
        <input-ref id="00002"/>
    </step>

    <step id="00003" type="simulate">
        <name>SIM_READ_TABLE_RESP, SIM_ST_CALL_CONTROL_AVAIL</name>
        <channel id="0x07"/>
        <input-ref id="00003"/>
    </step>
    
    <step id="00004" type="simulate">
        <name>CALL_MODEM_RESOURCE_CONF_IND</name>
        <channel id="0x07"/>
        <input-ref id="00004"/>
    </step>

    <step id="00005" type="simulate">
        <name>CALL_MODEM_RESOURCE_CONF_RESP; CALL_MODEM_RES_CONF_SET</name>
        <channel id="0x07"/>
        <input-ref id="00005"/>
    </step>
    
    <step id="00006" type="simulate">
        <name>SS_RESOURCE_CONF_IND; SS_RESOURCE_CONF_READY</name>
        <channel id="0x07"/>
        <input-ref id="00006"/>
    </step>
    
    <step id="00007" type="simulate">
        <name>SS_RESOURCE_CONF_RESP; SS_RESOURCE_CONF_SET</name>
        <channel id="0x07"/>
        <input-ref id="00007"/>
    </step>

    <step id="00010" type="intercept">
        <name>Analyze CALL_MODEM_RESOURCE_CONF_REQ, CALL_MODEM_RES_CONF_SET</name>
        <channel id="0x07"/>
        <output-ref id="00010"/>
    </step>
    
    <step id="00011" type="intercept">
        <name>Analyze SS_RESOURCE_CONF_REQ, SS_RESOURCE_CONF_SET</name>
        <channel id="0x07"/>
        <output-ref id="00011"/>
    </step>

<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->
    <step id="10103" type="simulate">
        <name>PROACTIVE COMMAND: SET UP CALL 1.3.1, 1.5.1</name>
        <channel id="0x07"/>
        <input-ref id="10103"/>
    </step>

<!-- CALL CONTROL REQs -->
<!-- ***************** -->
    <step id="10201" type="simulate">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_INTERNATIONAL, 01234567890123456789</name>
        <channel id="0x07"/>
        <input-ref id="10201"/>
    </step>

    <step id="10203" type="simulate">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_INTERNATIONAL, 012340123456</name>
        <channel id="0x07"/>
        <input-ref id="10203"/>
    </step>

    <step id="10210" type="simulate">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_MODE_EMERGENCY, 112</name>
        <channel id="0x07"/>
        <input-ref id="10210"/>
    </step>

    <step id="20201" type="simulate">
        <name>SS_RESOURCE_CONTROL_IND, *21**10#</name>
        <channel id="0x07"/>
        <input-ref id="20201"/>
    </step>

    <step id="20203" type="simulate">
        <name>SS_RESOURCE_CONTROL_IND, *21#</name>
        <channel id="0x07"/>
        <input-ref id="20203"/>
    </step>

    <step id="30202" type="simulate">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_UNKNOWN, 123</name>
        <channel id="0x07"/>
        <input-ref id="30202"/>
    </step>

    <step id="30203" type="simulate">
        <name>CALL_MODEM_RESOURCE_IND, CALL_MODEM_NBR_PLAN_ISDN_TELEPHONY;CALL_MODEM_NBR_TYPE_UNKNOWN, 9876</name>
        <channel id="0x07"/>
        <input-ref id="30203"/>
    </step>

<!-- RESOURCE_RESPs -->
<!-- ************************* -->

    <step id="10401" type="simulate">
        <name>CALL_MODEM_RESOURCE_RESP, OK</name>
        <channel id="0x07"/>
        <input-ref id="10401"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="10402" type="simulate">
        <name>SS_RESOURCE_CONTROL_RESP, OK</name>
        <channel id="0x07"/>
        <input-ref id="10402"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

<!-- ENVELOPES -->
<!-- ********* -->
    <step id="10901" type="intercept">
        <name>ENVELOPE CALL CONTROL 1.1.1A, 1.2.1A, 1.4.1A, 1.6.1A, 1.8.1A, 1.9.1A</name>
        <channel id="0x07"/>
        <output-ref id="10901"/>
        <flags>0x40</flags>  <!-- Store transaction ID in simulated message -->
    </step>

    <step id="10903" type="intercept">
        <name>ENVELOPE CALL CONTROL 1.3.1A, 1.5.1A, 1.7.1A</name>
        <channel id="0x07"/>
        <output-ref id="10903"/>
        <flags>0x40</flags>  <!-- Store transaction ID in simulated message -->
    </step>

    <step id="20901" type="intercept">
        <name>ENVELOPE CALL CONTROL 2.1.1A, 2.2.1A</name>
        <channel id="0x07"/>
        <output-ref id="20901"/>
        <flags>0x40</flags>  <!-- Store transaction ID in simulated message -->
    </step>

    <step id="20903" type="intercept">
        <name>ENVELOPE CALL CONTROL 2.3.1A, 2.4.1A</name>
        <channel id="0x07"/>
        <output-ref id="20903"/>
        <flags>0x40</flags>  <!-- Store transaction ID in simulated message -->
    </step>

    <step id="30902" type="intercept">
        <name>ENVELOPE CALL CONTROL 3.2.1A</name>
        <channel id="0x07"/>
        <output-ref id="30902"/>
        <flags>0x40</flags>  <!-- Store transaction ID in simulated message -->
    </step>

    <step id="30903" type="intercept">
        <name>ENVELOPE CALL CONTROL 3.3.1A, 3.4.1A</name>
        <channel id="0x07"/>
        <output-ref id="30903"/>
        <flags>0x40</flags>  <!-- Store transaction ID in simulated message -->
    </step>

<!-- ATK SW NOTIFYs -->
<!-- ************** -->
    <step id="11001" type="simulate">
        <name>ATK_SW_DATA_NTF: 90 00</name>
        <channel id="0x07"/>
        <input-ref id="11001"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="11002" type="simulate">
        <name>CALL CONTROL RESULT 1.2.1, 1.3.1, 2.2.1, 3.3.1</name>
        <channel id="0x07"/>
        <input-ref id="11002"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="11004" type="simulate">
        <name>CALL CONTROL RESULT 1.4.1, 1.5.1, 2.3.1, 3.4.1</name>
        <channel id="0x07"/>
        <input-ref id="11004"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="11006" type="simulate">
        <name>CALL CONTROL RESULT 1.6.1</name>
        <channel id="0x07"/>
        <input-ref id="11006"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="11007" type="simulate">
        <name>CALL CONTROL RESULT 1.7.1</name>
        <channel id="0x07"/>
        <input-ref id="11007"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="11008" type="simulate">
        <name>CALL CONTROL RESULT 1.8.1</name>
        <channel id="0x07"/>
        <input-ref id="11008"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="11009" type="simulate">
        <name>CALL CONTROL RESULT 1.9.1</name>
        <channel id="0x07"/>
        <input-ref id="11009"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="21004" type="simulate">
        <name>CALL CONTROL RESPONSE 2.4.1</name>
        <channel id="0x07"/>
        <input-ref id="21004"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

    <step id="31005" type="simulate">
        <name>CALL CONTROL RESPONSE 3.5.1</name>
        <channel id="0x07"/>
        <input-ref id="31005"/>
        <flags>0x40</flags> <!-- Use stored transaction ID -->
    </step>

<!-- CALL CONTROL RESPs -->
<!-- ****************** -->
    <step id="11101" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, 01234567890123456789</name>
        <channel id="0x07"/>
        <output-ref id="11101"/>
    </step>

    <step id="11103" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, 012340123456</name>
        <channel id="0x07"/>
        <output-ref id="11103"/>
    </step>

    <step id="11104" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_DENIED, 01234567890123456789</name>
        <channel id="0x07"/>
        <output-ref id="11104"/>
    </step>

    <step id="11105" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_DENIED, 012340123456</name>
        <channel id="0x07"/>
        <output-ref id="11105"/>
    </step>


    <step id="11106" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 010203</name>
        <channel id="0x07"/>
        <output-ref id="11106"/>
    </step>

    <step id="11107" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 011111111111</name>
        <channel id="0x07"/>
        <output-ref id="11107"/>
    </step>

    <step id="11108" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 112</name>
        <channel id="0x07"/>
        <output-ref id="11108"/>
    </step>

    <step id="11109" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 1020</name>
        <channel id="0x07"/>
        <output-ref id="11109"/>
    </step>

    <step id="11110" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED,112</name>
        <channel id="0x07"/>
        <output-ref id="11110"/>
    </step>

    <step id="21101" type="intercept">
        <name>SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED</name>
        <channel id="0x07"/>
        <output-ref id="21101"/>
    </step>

    <step id="21103" type="intercept">
        <name>SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_DENIED</name>
        <channel id="0x07"/>
        <output-ref id="21103"/>
    </step>

    <step id="21104" type="intercept">
        <name>SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED, modified to *#21#</name>
        <channel id="0x07"/>
        <output-ref id="21104"/>
    </step>

    <step id="31105" type="intercept">
        <name>CALL_MODEM_RESOURCE_REQ, CALL_MODEM_RESOURCE_ALLOWED, modified to 3333</name>
        <channel id="0x07"/>
        <output-ref id="31105"/>
    </step>

<!-- TERMINAL RESPONSES -->
<!-- ****************** -->
    <step id="11203" type="intercept">
        <name>TERMINAL RESPONSE: SET UP CALL 1.3.1, 1.7.1</name>
        <channel id="0x07"/>
        <output-ref id="11203"/>
        <flags>0x40</flags> <!-- Store transaction ID -->
    </step>

    <step id="11205" type="intercept">
        <name>TERMINAL RESPONSE: SET UP CALL 1.5.1</name>
        <channel id="0x07"/>
        <output-ref id="11205"/>
        <flags>0x40</flags> <!-- Store transaction ID -->
    </step>

<!-- GENERAL STEPS -->
<!-- ************* -->
    <step id="90001" type="sync">
        <name>Sync with test env</name>
    </step>

 </steps>


<!-- ********** -->
<!-- TEST CASES -->
<!-- ********** -->
<cases>

<!-- 27.22.6.1  Procedure for Mobile Originated calls -->
    <case id="001">
        <name>Initialization</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="00001"/> <!-- Simulate NET_CELL_INFO_IND -->

            <step-ref id="00002"/> <!-- Simulate SIM_READ_TABLE_RESP, SIM_ST_USSD_IN_CALL_CONTROL_AVAIL-->
            <step-ref id="00003"/> <!-- Simulate SIM_READ_TABLE_RESP, SIM_ST_CALL_CONTROL_AVAIL-->

            <step-ref id="00004"/> <!-- Simulate CALL_MODEM_RESOURCE_CONF_IND-->
            <step-ref id="00010"/> <!-- Analyze CALL_MODEM_RESOURCE_CONF_REQ, CALL_MODEM_RES_CONF_SET -->
            <step-ref id="00005"/> <!-- Simulate CALL_MODEM_RESOURCE_CONF_RESP; CALL_MODEM_RES_CONF_SET -->
            
            <step-ref id="00006"/> <!-- Simulate SS_RESOURCE_CONF_IND; SS_RESOURCE_CONF_READY-->
            <step-ref id="00011"/> <!-- Analyze SS_RESOURCE_CONF_REQ, SS_RESOURCE_CONF_SET -->
            <step-ref id="00007"/> <!-- Simulate SS_RESOURCE_CONF_RESP; SS_RESOURCE_CONF_SET -->
            
        </test-steps>
    </case>
    
    <case id="101">
        <name>Sequence 1.1 (CALL CONTROL BY SIM, set up call attempt by user, the SIM responds with '90 00')</name>
        <timeout>100</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="10901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11001"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="11101"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="102">
        <name>Sequence 1.2 (CALL CONTROL BY SIM, set up call attempt by user, allowed without modification)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="10901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11002"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->

            <step-ref id="11101"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="103">
        <name>Sequence 1.3A (CALL CONTROL BY SIM, set up call attempt resulting from a set up call proactive command, allowed without modification)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10103"/> <!-- Simulate PROACTIVE COMMAND -->          

            <step-ref id="10203"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->
            <step-ref id="10903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11002"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->         
            <step-ref id="11103"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->

            <step-ref id="90001"/> <!-- Synch -->           
            <step-ref id="11203"/> <!-- Analyze TERMINAL RESPONSE -->
            <step-ref id="11001"/> <!-- Simulate ATK_SW_DATA_NTF -->
        </test-steps>
        </case>

    <case id="104">
        <name>Sequence 1.4 (CALL CONTROL BY SIM, set up call attempt by user, not allowed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="10901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11004"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->

            <step-ref id="11104"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="105">
        <name>Sequence 1.5A (CALL CONTROL BY SIM, set up call attempt resulting from a set up call proactive command, not allowed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10103"/> <!-- Simulate PROACTIVE COMMAND -->          

            <step-ref id="10203"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->
            <step-ref id="10903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11004"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->         
            <step-ref id="11105"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->

            <step-ref id="90001"/> <!-- Synch -->           
            <step-ref id="11205"/> <!-- Analyze TERMINAL RESPONSE -->
            <step-ref id="11001"/> <!-- Simulate ATK_SW_DATA_NTF -->            
        </test-steps>
        </case>

    <case id="106">
        <name>Sequence 1.6 (CALL CONTROL BY SIM, set up call attempt by user, allowed with modifications)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="10901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11006"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->

            <step-ref id="11106"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="107">
        <name>Sequence 1.7A (CALL CONTROL BY SIM, set up call attempt resulting from a set up call proactive command, allowed with modifications)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10103"/> <!-- Simulate PROACTIVE COMMAND -->          

            <step-ref id="10203"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->
            <step-ref id="10903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11007"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->         
            <step-ref id="11107"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ-->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->

            <step-ref id="90001"/> <!-- Synch -->           
            <step-ref id="11203"/> <!-- Analyze TERMINAL RESPONSE -->
            <step-ref id="11001"/> <!-- Simulate ATK_SW_DATA_NTF -->            
        </test-steps>
        </case>

    <case id="108">
        <name>Sequence 1.8 (CALL CONTROL BY SIM, set up call attempt by user, allowed with modifications: emergency call)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="10901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11008"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->

            <step-ref id="11108"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="109">
        <name>Sequence 1.9 (CALL CONTROL BY SIM, set up call attempt by user, allowed with modifications: number in EFECC)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10201"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="10901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11009"/> <!-- Simulate ATK_DATA_NTF, response to envelope -->

            <step-ref id="11109"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

            <case id="110">
        <name>Sequence 1.10 (CALL CONTROL BY SIM , set up call attempt by user to an emergency call)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="10210"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="11110"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

<!-- 27.22.6.2  Procedure for Supplementary (SS) Services -->

    <case id="201">
        <name>Sequence 2.1 (CALL CONTROL BY SIM , send SS, the SIM responds with '90 00')</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="20201"/> <!-- Simulate SS_RESOURCE_CONTROL_IND -->

            <step-ref id="20901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11001"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="21101"/> <!-- Analyze SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED -->
            <step-ref id="10402"/> <!-- Simulate SS_RESOURCE_CONTROL_RESP, OK -->
        </test-steps>
        </case>

    <case id="202">
        <name>Sequence 2.2 (CALL CONTROL BY SIM , send SS, allowed without modifications</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="20201"/> <!-- Simulate SS_RESOURCE_CONTROL_IND -->

            <step-ref id="20901"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11002"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="21101"/> <!-- Analyze SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED -->
            <step-ref id="10402"/> <!-- Simulate SS_RESOURCE_CONTROL_RESP, OK -->
        </test-steps>
        </case>

    <case id="203">
        <name>Sequence 2.3 (CALL CONTROL BY SIM , send SS, not allowed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="20203"/> <!-- Simulate SS_RESOURCE_CONTROL_IND -->

            <step-ref id="20903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11004"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="21103"/> <!-- Analyze SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_DENIED -->
            <step-ref id="10402"/> <!-- Simulate SS_RESOURCE_CONTROL_RESP, OK -->
        </test-steps>
        </case>

    <case id="204">
        <name>Sequence 2.4 (CALL CONTROL BY SIM , send SS, allowed with modifications)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="20203"/> <!-- Simulate SS_RESOURCE_CONTROL_IND -->

            <step-ref id="20903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="21004"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="21104"/> <!-- Analyze SS_RESOURCE_CONTROL_REQ, SS_RESOURCE_ALLOWED, modified to *#21# -->
            <step-ref id="10402"/> <!-- Simulate SS_RESOURCE_CONTROL_RESP, OK -->
        </test-steps>
        </case>

<!-- 27.22.6.3  Interaction with Fixed Dialling Number (FDN) -->

    <case id="302">
        <name>Sequence 3.2 (CALL CONTROL BY SIM , set up a call in EFFDN , the SIM responds with '90 00')</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="30202"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="30902"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11001"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="11101"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="303">
        <name>Sequence 3.3 (CALL CONTROL BY SIM , set up a call in EFFDN, Allowed without modifications)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="30203"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="30903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11002"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="11101"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="304">
        <name>Sequence 3.4 (CALL CONTROL BY SIM , set up a call in EFFDN , Not Allowed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="30203"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="30903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="11004"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="11104"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

    <case id="305">
        <name>Sequence 3.5 (CALL CONTROL BY SIM , set up a call in EFFDN , Allowed with modifications)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="30203"/> <!-- Simulate CALL_MODEM_RESOURCE_IND -->

            <step-ref id="30903"/> <!-- Analyze ENVELOPE CALL CONTROL -->
            <step-ref id="31005"/> <!-- Simulate ATK_SW_DATA_NTF -->

            <step-ref id="31105"/> <!-- Analyze CALL_MODEM_RESOURCE_REQ -->
            <step-ref id="10401"/> <!-- Simulate CALL_MODEM_RESOURCE_RESP, OK -->
        </test-steps>
        </case>

</cases>

</isc-test-control>
