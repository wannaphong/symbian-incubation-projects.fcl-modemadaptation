//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  


// Precondition: 
// - Detailed description can be found from Quality Center's Project: CoreSW_CASW/Module Tests/SIM ATK TSY/SimAtkTSY_testtool
//
// Script description:

// LoadIcon
//  SimType. Type of SIM used as reference
//      SAT
//      GCF
//  ImageNumber. Which icon to load when record contains descriptions for several icons.
//		1...X
//	RecordId. Which record loaded from ef_img
//      1...X
//  Example Load image 1 from record 2 and use SATTS SIM data as reference: LoadIcon SAT 1 2

[Test]
title MOD_1006.001_SIM_ATK_TSY_[ICONS - SATTS]

create SimAtk simatk

// open all
simatk Connect RTelServer
simatk Load PhoneTsy.tsy
simatk Open DefaultPhone
simatk Open SAT
simatk Open IscControl

// Load ISC XML -file
simatk LoadIscTests SimAtk_Icons_custom.xml

// SEQ 1: Image 1 from Record 1
simatk RunIscTestCase 1006 101
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 1
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 2: Image 1 from Record 2
simatk RunIscTestCase 1006 102
simatk SyncIscTestCase
// Allow KerrNotFound. Record contain no image descriptions.
allownextresult -1
simatk CheckIcon LoadIcon SAT 1 2
simatk WaitForRequest

// SEQ 3: Image 1 from Record 3
simatk RunIscTestCase 1006 103
simatk SyncIscTestCase
// Allow KErrOverflow. Image loaded from SIM is intentionally larger than expected.
allownextresult -9
simatk CheckIcon LoadIcon SAT 1 3
simatk WaitForRequest

// SEQ 4: Image 2 from Record 3
simatk RunIscTestCase 1006 104
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 2 3
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 5: Image 1 from Record 4
simatk RunIscTestCase 1006 105
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 4
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 6: Image 2 from Record 4
simatk RunIscTestCase 1006 106
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 2 4
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 7: Image 3 from Record 4
simatk RunIscTestCase 1006 107
simatk SyncIscTestCase
// Allow KErrNotFound. BW image received when color icon is expected.
allownextresult -1
simatk CheckIcon LoadIcon SAT 3 4
simatk WaitForRequest

// SEQ 8: Image 1 from Record 5
simatk RunIscTestCase 1006 108
simatk SyncIscTestCase
// Allow KErrNotFound. Request icon instance file does not exist.
allownextresult -1
simatk CheckIcon LoadIcon SAT 1 5
simatk WaitForRequest

// SEQ 9: Image 2 from Record 5
simatk RunIscTestCase 1006 109
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 2 5
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 10: Image 1 from Record 6
simatk RunIscTestCase 1006 110
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 6
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 11: Image 2 from Record 6
simatk RunIscTestCase 1006 111
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 2 6
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 12: Image 1 from Record 7
simatk RunIscTestCase 1006 112
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 7
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 13: Image 1 from Record 8
simatk RunIscTestCase 1006 113
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 8
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 14: Image 1 from Record 9
simatk RunIscTestCase 1006 114
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 9
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 15: Image 1 from Record 10
simatk RunIscTestCase 1006 115
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 10
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 16: Image 1 from Record 11
simatk RunIscTestCase 1006 116
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 11
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 17: Image 1 from Record 12
simatk RunIscTestCase 1006 117
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 12
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 18: Image 2 from Record 12
simatk RunIscTestCase 1006 118
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 2 12
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 19: Image 3 from Record 12
simatk RunIscTestCase 1006 119
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 3 12
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 20: Image 1 from Record 13
simatk RunIscTestCase 1006 120
simatk SyncIscTestCase
// Allow KerrNotFound. Instance 1 in Record is intentionally invalid.
allownextresult -1
simatk CheckIcon LoadIcon SAT 1 13
simatk WaitForRequest

// SEQ 21: Image 2 from Record 13
simatk RunIscTestCase 1006 121
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 2 13
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 22: Image 3 from Record 13
simatk RunIscTestCase 1006 122
simatk SyncIscTestCase
// Allow KerrNotFound. Instance 3 in Record is intentionally invalid.
allownextresult -1
simatk CheckIcon LoadIcon SAT 3 13
simatk WaitForRequest

// SEQ 23: Image 1 from Record 14
simatk RunIscTestCase 1006 123
simatk SyncIscTestCase
// Allow KerrNotFound. Instance 1 in Record is intentionally invalid.
allownextresult -1
simatk CheckIcon LoadIcon SAT 1 14
simatk WaitForRequest

// SEQ 24: Image 2 from Record 14
simatk RunIscTestCase 1006 124
simatk SyncIscTestCase
// Allow KerrNotFound. Instance 1 in Record is intentionally invalid.
allownextresult -1
simatk CheckIcon LoadIcon SAT 2 14
simatk WaitForRequest

// SEQ 25: Image 1 from Record 15
simatk RunIscTestCase 1006 125
simatk SyncIscTestCase
simatk CheckIcon LoadIcon SAT 1 15
simatk SyncIscTestCase
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Close DefaultPhone
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete simatk
[Endtest]

[Test]
title MOD_1006.002_SIM_ATK_TSY_[ICONS - GCF]

create SimAtk simatk

// open all
simatk Connect RTelServer
simatk Load PhoneTsy.tsy
simatk Open DefaultPhone
simatk Open SAT
simatk Open IscControl

// Load ISC XML -file
simatk LoadIscTests SimAtk_Icons_custom.xml

// SEQ 1: Image 1 from Record 1
simatk RunIscTestCase 1006 201
simatk SyncIscTestCase
simatk CheckIcon LoadIcon GCF 1 1
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 2: Image 1 from Record 2
simatk RunIscTestCase 1006 202
simatk SyncIscTestCase
simatk CheckIcon LoadIcon GCF 1 2
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 3: Image 1 from Record 3
simatk RunIscTestCase 1006 203
simatk SyncIscTestCase
simatk CheckIcon LoadIcon GCF 1 3
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 4: Image 1 from Record 4
simatk RunIscTestCase 1006 204
simatk SyncIscTestCase
simatk CheckIcon LoadIcon GCF 1 4
simatk SyncIscTestCase
simatk WaitForRequest

// SEQ 5: Image 1 from Record 5
simatk RunIscTestCase 1006 205
simatk SyncIscTestCase
simatk CheckIcon LoadIcon GCF 1 5
simatk SyncIscTestCase
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Close DefaultPhone
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete simatk
[Endtest]
