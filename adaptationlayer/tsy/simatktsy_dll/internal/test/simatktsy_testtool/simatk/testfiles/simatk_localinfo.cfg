//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  

//
// Precondition: 
// - Detailed description can be found from Quality Center's Project: CoreSW_CASW/Module Tests/SIM ATK TSY/SimAtkTSY_testtool
//
// Script description:
//

// Proactive command //
///////////////////////

// Type
//  Type of Info request
//      0 Default
//      1 IMEI of the phone.
//      2 Network Measurement Results.
//      3 Current date, time and time zone.
//      4 Language preference.
//      5 Timing advance (access network dependent).
//      6 Current access technology.
//      7 ESN of the phone.        
        
// Terminal Response //
///////////////////////

// GeneralResult
//  General result of the proactive command. Default command performed successfully.

// AdditionalInfo
//  Contains the local information requested by the UICC. Alternatively, some error values of GeneralResult require
//  additional information, which goes here.
//  Enter the text inside the quotes or as unicode hex digits.

// InfoType
//  Set to LocalInformation to return local information, or possibly MeProblem is there is a problem

[Test]
title MOD_0016.001_SIM_ATK_TSY_[PROVIDE LOCAL INFORMATION]

create SimAtk simatk
create SimAtkNotify notify
simatk Connect RTelServer
simatk Load PhoneTsy.tsy
simatk Open DefaultPhone
simatk Open SAT
simatk Open IscControl

// Load ISC XML -file
simatk LoadIscTests SimAtk_LocalInfo.xml

simatk RunIscTestCase 16 101
simatk WaitForRequest

simatk RunIscTestCase 16 102
simatk WaitForRequest

simatk RunIscTestCase 16 103
simatk WaitForRequest

simatk RunIscTestCase 16 104
simatk WaitForRequest

notify UseObjectAddress simatk ESatNotifyLocalInfoPCmd
simatk RunIscTestCase 16 105
waittestclass notify
simatk CheckProactiveCommand Type 4
simatk SendTerminalResponse InfoType LocalInformation AdditionalInfo 656E
simatk WaitForRequest

simatk RunIscTestCase 16 106
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]
