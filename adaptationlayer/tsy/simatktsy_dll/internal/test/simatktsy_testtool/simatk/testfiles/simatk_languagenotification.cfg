//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description:  

//
// Precondition: 
// - Detailed description can be found from Quality Center's Project: CoreSW_CASW/Module Tests/SIM ATK TSY/SimAtkTSY_testtool
//
// Script description:
//

// Proactive command //
///////////////////////

// Type (Optional, default = 1)
//  Determines whether the UICC is specifying its current language in Language-parameter, or is saying that
//  it is not using  a specific language.
//  0   Initialisation value
//  1   No specific language is in use by the UICC. This has the effect of
//      cancelling previous specific LANGUAGE NOTIFICATION commands.
//  2   The language currently in use by the UICC is given in Language-parameter (see below)
// Example: language provided in Language parameter: Type 2

// Language ( =mandatory if Type is set to 2)
//  Currently used language by (U)ICC.  This is pair of alpha-numeric characters, defined in ISO 639. 
//  Each alpha-numeric character shall be coded on one byte using the SMS default 7-bit coded alphabet 
//  as defined in TS 123 038 with bit 8 set to 0. This is only valid if Type is set to 2
// Example: English (en) language: Language 0x656E


        
// Terminal Response //
///////////////////////

// GeneralResult (Optional, default = KSuccess )
//  General result of the proactive command. Set this as described in
//  the proactive commands versus terminal response table in ETSI TS 102 223.

// AdditionalInfo (Optional, default = "")
//  Contains additional information associated with certain error codes set in GeneralResult.
//  If the value in GeneralResult does not require any information then leave this field empty.
        
// InfoType (Optional, default = KNoAdditionalInfo )
//  If the value of iGeneralResult requires additional information, set this to KMeProblem. 
//  Otherwise set to KNoAdditionalInfo

[Test]
title MOD_0022.001_SIM_ATK_TSY_[LANGUAGE NOTIFICATION]

create SimAtk simatk
create SimAtkNotify notify
simatk Connect RTelServer
simatk Load PhoneTsy.tsy
simatk Open DefaultPhone
simatk Open SAT
simatk Open IscControl

// Load ISC XML -file
simatk LoadIscTests SimAtk_LanguageNotification.xml

// Sequence 1.1 (LANGUAGE NOTIFICATION)
notify UseObjectAddress simatk ESatNotifyLanguageNotificationPCmd
simatk RunIscTestCase 22 101
waittestclass notify
// Language 'se' = Spanish
simatk CheckProactiveCommand Type 2 Language 0x7365
simatk SendTerminalResponse
simatk WaitForRequest

// Sequence 1.2 (LANGUAGE NOTIFICATION)
notify UseObjectAddress simatk ESatNotifyLanguageNotificationPCmd
simatk RunIscTestCase 22 102
waittestclass notify
simatk CheckProactiveCommand Type 1
simatk SendTerminalResponse
simatk WaitForRequest

// close all
simatk Close IscControl
simatk Close SAT
simatk Unload PhoneTsy.tsy
simatk Close RTelServer
delete notify
delete simatk
[Endtest]
