<?xml version="1.0" encoding="utf-8"?> 

<!-- MOD_0012.001_SIM_ATK_TSY_[SEND SS - normal] -->
<!-- MOD_0012.002_SIM_ATK_TSY_[SEND SS - Icon support (sequence B)] -->
<!-- MOD_0012.003_SIM_ATK_TSY_[SEND SS - UCS2 Support] -->


<isc-test-control id="12">


<!-- ******** -->
<!-- CHANNELS -->
<!-- ******** -->
<channels>
	<channel id="0x07"/>
</channels>


<!-- ****** -->
<!-- INPUTS -->
<!-- ****** -->
<inputs>


<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->

    <!-- USED BY: 27.22.4.11.1 -->
    <input id="10001">
        <name>PROACTIVE COMMAND: SEND SS 1.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,2B,D0,27,81,03,01,11,00,82,02,81,83,85,0C,43,61,6C,6C,20,46,6F,72,77,61,72,64,89,0E,91,AA,12,0A,21,43,65,87,09,21,43,65,87,B9,90,00</message>
    </input>

    <input id="10002">
        <name>PROACTIVE COMMAND: SEND SS 1.1.4</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,36,D0,32,81,03,01,11,00,82,02,81,83,85,0C,43,61,6C,6C,20,46,6F,72,77,61,72,64,89,19,91,AA,12,0A,21,43,65,87,09,21,43,65,87,09,21,43,65,87,09,21,43,65,A7,11,FB,90,00</message>
    </input>

    <input id="10003">
        <name>PROACTIVE COMMAND: SEND SS 1.1.5</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,01,02,D0,81,FD,81,03,01,11,00,82,02,81,83,85,81,EB,45,76,65,6E,20,69,66,20,74,68,65,20,46,69,78,65,64,20,44,69,61,6C,6C,69,6E,67,20,4E,75,6D,62,65,72,20,73,65,72,76,69,63,65,20,69,73,20,65,6E,61,62,6C,65,64,2C,20,74,68,65,20,73,75,70,70,6C,65,6D,65,6E,74,61,72,79,20,73,65,72,76,69,63,65,20,63,6F,6E,74,72,6F,6C,20,73,74,72,69,6E,67,20,69,6E,63,6C,75,64,65,64,20,69,6E,20,74,68,65,20,53,45,4E,44,20,53,53,20,70,72,6F,61,63,74,69,76,65,20,63,6F,6D,6D,61,6E,64,20,73,68,61,6C,6C,20,6E,6F,74,20,62,65,20,63,68,65,63,6B,65,64,20,61,67,61,69,6E,73,74,20,74,68,6F,73,65,20,6F,66,20,74,68,65,20,46,44,4E,20,6C,69,73,74,2E,20,55,70,6F,6E,20,72,65,63,65,69,76,69,6E,67,20,74,68,69,73,20,63,6F,6D,6D,61,6E,64,2C,20,74,68,65,20,4D,45,20,73,68,61,6C,6C,20,64,65,63,69,89,04,FF,BA,13,FB,90,00</message>
    </input>

    <input id="10004">
        <name>PROACTIVE COMMAND: SEND SS 1.1.6</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,1F,D0,1B,81,03,01,11,00,82,02,81,83,85,00,89,0E,91,AA,12,0A,21,43,65,87,09,21,43,65,87,B9,90,00</message>
    </input>
    
    <input id="10201">
        <name>PROACTIVE COMMAND: SEND SS 2.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,2F,D0,2B,81,03,01,11,00,82,02,81,83,85,0A,42,61,73,69,63,20,49,63,6F,6E,89,10,91,AA,12,0A,21,43,65,87,09,21,43,65,87,A9,01,FB,9E,02,00,01,90,00</message>
    </input>
    
    <input id="10202">
        <name>PROACTIVE COMMAND: SEND SS 2.2.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,30,D0,2C,81,03,01,11,00,82,02,81,83,85,0B,43,6F,6C,6F,75,72,20,49,63,6F,6E,89,10,91,AA,12,0A,21,43,65,87,09,21,43,65,87,A9,01,FB,9E,02,00,02,90,00</message>
    </input>
    
    <input id="10203">
        <name>PROACTIVE COMMAND: SEND SS 2.3.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,2F,D0,2B,81,03,01,11,00,82,02,81,83,85,0A,42,61,73,69,63,20,49,63,6F,6E,89,10,91,AA,12,0A,21,43,65,87,09,21,43,65,87,A9,01,FB,9E,02,01,01,90,00</message>
    </input>
    
    <input id="10204">
        <name>PROACTIVE COMMAND: SEND SS 2.4.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,21,D0,1D,81,03,01,11,00,82,02,81,83,89,0E,91,AA,12,0A,21,43,65,87,09,21,43,65,87,B9,9E,02,01,01,90,00</message>
    </input>
    
    <input id="10301">
        <name>PROACTIVE COMMAND: SEND SS 3.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,3A,D0,36,81,03,01,11,00,82,02,81,83,85,19,80,04,17,04,14,04,20,04,10,04,12,04,21,04,22,04,12,04,23,04,19,04,22,04,15,89,10,91,AA,12,0A,21,43,65,87,09,21,43,65,87,A9,01,FB,90,00</message>
    </input>


<!-- SIM SESSION END -->
<!-- *************** -->
    <input id="90004">
        <name>SIM Session End</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,78,34,00,13,00,00,90,00,00,00</message>
        <!-- Transaction Id's (9:th byte) must match with Terminal responses transaction id -->
    </input>

</inputs>


<!-- ******* -->
<!-- OUTPUTS -->
<!-- ******* -->
<outputs>

    
<!-- TERMINAL RESPONSES -->
<!-- ****************** -->

    <!-- USED BY: 27.22.4.11.1 -->
    <output id="40001">
        <name>TERMINAL RESPONSE: SEND SS 1.1.1</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,32,00,08,00,11,00,00,00,29,81,03,01,11,00,82,02,82,81,03,1E,00,0A,A0,1A,04,01,21,30,15,30,13,83,01,00,84,01,07,84,0B,91,10,32,54,76,98,10,32,54,76,98,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>

    <output id="40002">
        <name>TERMINAL RESPONSE: SEND SS 1.1.2</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0D,81,03,01,11,00,82,02,82,81,03,02,34,15,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="40003">
        <name>TERMINAL RESPONSE: SEND SS 1.1.3</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0D,81,03,01,11,00,82,02,82,81,03,02,34,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>
    
    <output id="40004">
        <name>TERMINAL RESPONSE: SEND SS 1.1.4</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,3A,00,08,00,11,00,00,00,32,81,03,01,11,00,82,02,82,81,03,27,00,0A,A0,23,04,01,21,30,1E,30,1C,83,01,11,84,01,07,84,14,91,10,32,54,76,98,10,32,54,76,98,10,32,54,76,98,10,32,54,76</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>
    
    <output id="40005">
        <name>TERMINAL RESPONSE: SEND SS 1.1.5</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,1E,00,08,00,11,00,00,00,15,81,03,01,11,00,82,02,82,81,03,0A,00,0E,A4,06,04,01,06,0A,01,02,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>
    
    <output id="40201">
        <name>TERMINAL RESPONSE: SEND SS 2.1.1BA</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,32,00,08,00,11,00,00,00,29,81,03,01,11,00,82,02,82,81,03,1E,04,0A,A0,1A,04,01,21,30,15,30,13,83,01,00,84,01,07,89,0B,91,10,32,54,76,98,10,32,54,76,98,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF</mask>
    </output>
    
    <output id="40202">
        <name>TERMINAL RESPONSE: SEND SS 2.4.1</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0C,81,03,01,11,00,82,02,82,81,83,01,32,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>
    
    
</outputs>


<!-- ********** -->
<!-- TEST STEPS -->
<!-- ********** -->
<steps>


<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->

<!-- USED BY: 27.22.4.11.1 -->
    <step id="10001" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10001"/>
    </step>

    <step id="10002" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10002"/>
    </step>

    <step id="10003" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10003"/>
    </step>

    <step id="10004" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10004"/>
    </step>
    
    <step id="10201" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10201"/>
    </step>
    
    <step id="10202" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10202"/>
    </step>
    
    <step id="10203" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10203"/>
    </step>
    
    <step id="10204" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10204"/>
    </step>
    
    <step id="10301" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10301"/>
    </step>


<!-- TERMINAL RESPONSES -->
<!-- ****************** -->

<!-- USED BY: 27.22.4.11.1 -->
    <step id="40001" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40001"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40002" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40002"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40003" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40003"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40004" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40004"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40005" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40005"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>
    
    <step id="40201" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40201"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>
    
    <step id="40202" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40202"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>


<!-- GENERAL STEPS -->
<!-- ************* -->

    <step id="90001" type="sync">
        <name>Sync with test env</name>
    </step>

    <step id="90002" type="open-channel">
        <name>Attach to channel 7</name>
        <channel id="0x07"/>
    </step>

    <step id="90003" type="close-channel">
        <name>Detach from channel 7</name>
        <channel id="0x07"/>
    </step>

    <step id="90004" type="simulate">
        <name>SIM session end</name>
        <channel id="0x07"/>
        <input-ref id="90004"/>
        <flags>0x40</flags>  <!-- Use stored transaction ID in simulated message -->        
    </step>

</steps>


<!-- ********** -->
<!-- TEST CASES -->
<!-- ********** -->
<cases>

<!-- 27.22.4.11.1	SEND SS (normal) -->
    <case id="101">
        <name>Sequence 1.1 (SEND SS, call forward unconditional, all bearers, successful)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10001"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="102">
        <name>Sequence 1.2 (SEND SS, call forward unconditional, all bearers, Return Error)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10001"/> <!-- Send PCMD -->
            <step-ref id="40002"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="103">
        <name>Sequence 1.3 (SEND SS, call forward unconditional, all bearers, Reject</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10001"/> <!-- Send PCMD -->
            <step-ref id="40003"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="104">
        <name>Sequence 1.4 (SEND SS, call forward unconditional, all bearers, successful, SS request size limit)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10002"/> <!-- Send PCMD -->
            <step-ref id="40004"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="105">
        <name>Sequence 1.5 (SEND SS, interrogate CLIR status, successful, alpha identifier limits)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10003"/> <!-- Send PCMD -->
            <step-ref id="40005"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="106">
        <name>Sequence 1.6 (SEND SS, call forward unconditional, all bearers, successful, null data alpha identifier)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10004"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>
    
    <case id="201">
        <name>Sequence 2.1B (SEND SS, call forward unconditional, all bearers, successful, basic icon self explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10201"/> <!-- Send PCMD -->
            <step-ref id="40201"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>
    
    <case id="202">
        <name>Sequence 2.2B (SEND SS, call forward unconditional, all bearers, successful, colour icon self explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10202"/> <!-- Send PCMD -->
            <step-ref id="40201"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>
    
    <case id="203">
        <name>Sequence 2.3B (SEND SS, call forward unconditional, all bearers, successful, basic icon non self-explanatory)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10203"/> <!-- Send PCMD -->
            <step-ref id="40201"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>
    
    <case id="204">
        <name>2.4 (SEND SS, call forward unconditional, all bearers, successful, basic icon non self-explanatory, no alpha identifier presented)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10204"/> <!-- Send PCMD -->
            <step-ref id="40202"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>
    
    <case id="301">
        <name>Sequence 3.1 (SEND SS, call forward unconditional, all bearers, successful, UCS2 text)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            
            <step-ref id="10301"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->

            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>


</cases>

</isc-test-control>
