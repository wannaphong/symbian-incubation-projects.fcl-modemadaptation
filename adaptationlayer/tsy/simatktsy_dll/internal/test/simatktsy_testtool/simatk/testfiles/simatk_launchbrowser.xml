<?xml version="1.0" encoding="utf-8"?> 

<!-- MOD_0024.001_SIM_ATK_TSY_[OPEN CHANNEL - related to GPRS] -->
<!-- MOD_0023.002_SIM_ATK_TSY_[LAUNCH BROWSER - Interaction with current session] -->
<!-- MOD_0023.003_SIM_ATK_TSY_[LAUNCH BROWSER - UCS2 support] -->
<!-- MOD_0023.004_SIM_ATK_TSY_[LAUNCH BROWSER - icons support] -->


<isc-test-control id="23">


<!-- ******** -->
<!-- CHANNELS -->
<!-- ******** -->
<channels>
	<channel id="0x07"/>
</channels>


<!-- ****** -->
<!-- INPUTS -->
<!-- ****** -->
<inputs>


<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->

    <input id="10001">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  1.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,1C,D0,18,81,03,01,15,00,82,02,81,82,31,00,05,0B,44,65,66,61,75,6C,74,20,55,52,4C,90,00</message>
    </input>

    <input id="10002">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  1.2.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,23,D0,1F,81,03,01,15,00,82,02,81,82,31,12,68,74,74,70,3A,2F,2F,78,78,78,2E,79,79,79,2E,7A,7A,7A,05,00,90,00</message>
    </input>

    <input id="10003">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  1.3.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,12,D0,0E,81,03,01,15,00,82,02,81,82,30,01,00,31,00,90,00</message>
    </input>

    <input id="10004">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  1.4.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,20,D0,1C,81,03,01,15,00,82,02,81,82,31,00,32,01,03,0D,0C,04,61,62,63,2E,64,65,66,2E,67,68,69,90,00</message>
    </input>

    <input id="10101">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  2.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,1C,D0,18,81,03,01,15,02,82,02,81,82,31,00,05,0B,44,65,66,61,75,6C,74,20,55,52,4C,90,00</message>
    </input>

    <input id="10102">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  2.2.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,1C,D0,18,81,03,01,15,03,82,02,81,82,31,00,05,0B,44,65,66,61,75,6C,74,20,55,52,4C,90,00</message>
    </input>

    <input id="10103">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  2.3.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,0F,D0,0B,81,03,01,15,00,82,02,81,82,31,00,90,00</message>
    </input>

    <input id="10201">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  3.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,2A,D0,26,81,03,01,15,02,82,02,81,82,31,00,05,19,80,04,17,04,14,04,20,04,10,04,12,04,21,04,22,04,12,04,23,04,19,04,22,04,15,90,00</message>
    </input>

    <input id="10301">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  4.1.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,25,D0,21,81,03,01,15,02,82,02,81,82,31,00,05,10,4E,6F,74,20,73,65,6C,66,20,65,78,70,6C,61,6E,2E,1E,02,01,01,90,00</message>
    </input>

    <input id="10302">
        <name>PROACTIVE COMMAND: LAUNCH BROWSER  4.2.1</name>
        <direction>sos</direction>
        <message>15,28,00,5A,00,00,08,00,00,10,00,55,00,21,D0,1D,81,03,01,15,02,82,02,81,82,31,00,05,0C,53,65,6C,66,20,65,78,70,6C,61,6E,2E,1E,02,00,01,90,00</message>
    </input>

<!-- SIM SESSION END -->
<!-- *************** -->
    <input id="90004">
        <name>SIM Session End</name>
        <direction>sos</direction>
        <message>00,00,00,5A,00,00,78,34,00,13,00,00,90,00,00,00</message>
        <!-- Transaction Id's (9:th byte) must match with Terminal responses transaction id -->
    </input>

</inputs>


<!-- ******* -->
<!-- OUTPUTS -->
<!-- ******* -->
<outputs>
    
<!-- TERMINAL RESPONSES -->
<!-- ****************** -->

    <output id="40001">
        <name>TERMINAL RESPONSE: LAUNCH BROWSER 1.1.1, 1.2.1, 1.3.1, 1.4.1</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0C,81,03,01,15,00,82,02,82,81,83,01,00,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="40101">
        <name>TERMINAL RESPONSE: LAUNCH BROWSER 2.1.1, 3.1.1</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0C,81,03,01,15,02,82,02,82,81,83,01,00,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="40102">
        <name>TERMINAL RESPONSE: LAUNCH BROWSER 2.2.1</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0C,81,03,01,15,03,82,02,82,81,83,01,00,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="40103">
        <name>TERMINAL RESPONSE: LAUNCH BROWSER 2.3.1</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0D,81,03,01,15,00,82,02,82,81,83,02,26,02,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

    <output id="40301">
        <name>TERMINAL RESPONSE: LAUNCH BROWSER 4.1.1B, 4.2.1B</name>
        <direction>dos</direction>
        <message>1D,00,10,5A,00,16,00,08,00,11,00,00,00,0C,81,03,01,15,02,82,02,82,81,83,01,04,00,00</message>
           <mask>00,00,00,FF,00,FF,00,00,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,7F,FF,FF,FF,7F,FF,FF,FF,FF</mask>
    </output>

</outputs>

<!-- ********** -->
<!-- TEST STEPS -->
<!-- ********** -->
<steps>


<!-- PROACTIVE COMMANDS -->
<!-- ****************** -->

    <step id="10001" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10001"/>
    </step>

    <step id="10002" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10002"/>
    </step>

    <step id="10003" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10003"/>
    </step>

    <step id="10004" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10004"/>
    </step>

    <step id="10101" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10101"/>
    </step>

    <step id="10102" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10102"/>
    </step>

    <step id="10103" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10103"/>
    </step>

    <step id="10201" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10201"/>
    </step>

    <step id="10301" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10301"/>
    </step>

    <step id="10302" type="simulate">
        <name>Send PCMD</name>
        <channel id="0x07"/>
        <input-ref id="10302"/>
    </step>

<!-- TERMINAL RESPONSES -->
<!-- ****************** -->

    <step id="40001" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40001"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40101" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40101"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40102" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40102"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40103" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40103"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

    <step id="40301" type="intercept">
        <name>Intercept TR</name>
        <channel id="0x07"/>
        <output-ref id="40301"/>
        <flags>0x40</flags>  <!-- Store transaction ID from intercepted message -->
    </step>

<!-- GENERAL STEPS -->
<!-- ************* -->

    <step id="90001" type="sync">
        <name>Sync with test env</name>
    </step>

    <step id="90002" type="open-channel">
        <name>Attach to channel 7</name>
        <channel id="0x07"/>
    </step>

    <step id="90003" type="close-channel">
        <name>Detach from channel 7</name>
        <channel id="0x07"/>
    </step>

    <step id="90004" type="simulate">
        <name>SIM session end</name>
        <channel id="0x07"/>
        <input-ref id="90004"/>
        <flags>0x40</flags>  <!-- Use stored transaction ID in simulated message -->        
    </step>

</steps>


<!-- ********** -->
<!-- TEST CASES -->
<!-- ********** -->
<cases>

<!-- 27.22.4.26.1	LAUNCH BROWSER (No session already launched) -->

    <case id="101">
        <name>Sequence 1.1 (LAUNCH BROWSER, connect to the default URL)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10001"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="102">
        <name>Sequence 1.2 (LAUNCH BROWSER, connect to the specified URL, alpha identifier length=0)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10002"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="103">
        <name>Sequence 1.3 (LAUNCH BROWSER, Browser identity, no alpha identifier)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10003"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="104">
        <name>Sequence 1.4 (LAUNCH BROWSER, only GPRS bearer specified and gateway/proxy identity, GPRS supported by SS)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10004"/> <!-- Send PCMD -->
            <step-ref id="40001"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

<!-- 27.22.4.26.2	LAUNCH BROWSER (Interaction with current session) -->

    <case id="201">
        <name>Sequence 2.1 (LAUNCH BROWSER, use the existing browser, connect to the default URL)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10101"/> <!-- Send PCMD -->
            <step-ref id="40101"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="202">
        <name>Sequence 2.2 (LAUNCH BROWSER, close the existing browser session and launch new browser session, connect to the default URL)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10102"/> <!-- Send PCMD -->
            <step-ref id="40102"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="203">
        <name>Sequence 2.3 (LAUNCH BROWSER, if not already launched)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10103"/> <!-- Send PCMD -->
            <step-ref id="40103"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

<!-- 27.22.4.26.3	LAUNCH BROWSER (UCS2 support) -->

    <case id="301">
        <name>Sequence 3.1 (LAUNCH BROWSER, use the existing browser, connect to the default URL)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10201"/> <!-- Send PCMD -->
            <step-ref id="40101"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

<!-- 27.22.4.26.4	LAUNCH BROWSER (icons support) -->

    <case id="401">
        <name>Sequence 4.1B (LAUNCH BROWSER, use the existing browser, icon not self explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10301"/> <!-- Send PCMD -->
            <step-ref id="40301"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

    <case id="402">
        <name>Sequence 4.2B (LAUNCH BROWSER, use the existing browser, icon self explanatory, requested icon could not be displayed)</name>
        <timeout>10</timeout>
        <test-steps>
            <step-ref id="90002"/> <!-- Attach to channel 7 -->
            <step-ref id="10302"/> <!-- Send PCMD -->
            <step-ref id="40301"/> <!-- Receive TR -->
            <step-ref id="90004"/> <!-- SimSessionEnd -->
            <step-ref id="90003"/> <!-- Detach from channel 7 -->
        </test-steps>
    </case>

</cases>

</isc-test-control>
